<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"changzeyan.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
<meta property="og:type" content="website">
<meta property="og:title" content="YCZ">
<meta property="og:url" content="https://changzeyan.github.io/page/3/index.html">
<meta property="og:site_name" content="YCZ">
<meta property="og:description" content="天空中没有留下翅膀的痕迹，但我已飞过">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ChangzeYan">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://changzeyan.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>YCZ</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="YCZ" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">YCZ</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">走向内心，寻求超越</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2021/01/06/write/latex/latex-pic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/write/latex/latex-pic/" class="post-title-link" itemprop="url">Latex-pic</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 10:06:37" itemprop="dateCreated datePublished" datetime="2021-01-06T10:06:37+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-12 21:31:21" itemprop="dateModified" datetime="2021-06-12T21:31:21+08:00">2021-06-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Latex/" itemprop="url" rel="index"><span itemprop="name">Latex</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="设置图片存放路径"><a href="#设置图片存放路径" class="headerlink" title="设置图片存放路径"></a>设置图片存放路径</h2><p>设置存放图片的根路径<br>导包：</p>
<pre><code>\usepackage&#123;graphicx&#125;
</code></pre>
<p>使用：<br>在根目录下建立figures目录，将图片存放在该目录中，以后直接引用图片名称即可，不用扩展名：</p>
<pre><code>\graphicspath&#123;&#123;figures/&#125;&#125; 
</code></pre>
<h2 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h2><p>isNumberDFA是图片名，不用加扩展名：</p>
<pre><code>\begin&#123;figure&#125;[htb]
    \centering
    % 调整图片与标题之间的距离
    \setlength&#123;\abovecaptionskip&#125;&#123;0.5em&#125;
    \includegraphics[width=1\textwidth]&#123;isNumberDFA&#125;
    \caption&#123;DFA状态转移图&#125;
    \label&#123;isNumberDFA&#125;
\end&#123;figure&#125;
</code></pre>
<h2 id="两张图片横着放"><a href="#两张图片横着放" class="headerlink" title="两张图片横着放"></a>两张图片横着放</h2><pre><code>\begin&#123;figure&#125;[htb]
    \centering
    \subfigure[冠状树]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.4\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;isNumberDFA&#125;
        \end&#123;minipage&#125;
    &#125;
    \subfigure[龙曲线]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.4\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;status-table-DFA&#125;
        \end&#123;minipage&#125;
    &#125;
    \caption&#123;DFA状态转移图&#125;
    \label&#123;isNumberDFA&#125;
    
\end&#123;figure&#125;
</code></pre>
<h2 id="四张图片两两并列排放"><a href="#四张图片两两并列排放" class="headerlink" title="四张图片两两并列排放"></a>四张图片两两并列排放</h2><p>空行表示换行。</p>
<pre><code>\begin&#123;figure&#125;[H]
    \centering
    \begin&#123;minipage&#125;&#123;7cm&#125;
        \includegraphics[width=1\textwidth]&#123;./pic/info1&#125;
        \label&#123;1&#125;
    \end&#123;minipage&#125;
    \begin&#123;minipage&#125;&#123;7cm&#125;
        \includegraphics[width=1\textwidth]&#123;./pic/info2&#125;
        \label&#123;2&#125;
    \end&#123;minipage&#125;

    % 空一行会分两行排版
    \begin&#123;minipage&#125;&#123;7cm&#125;
        \includegraphics[width=\textwidth]&#123;./pic/info3&#125;
        \label&#123;3&#125;
    \end&#123;minipage&#125;
    \begin&#123;minipage&#125;&#123;7cm&#125;
        \includegraphics[width=\textwidth]&#123;./pic/info4&#125;
        \label&#123;4&#125;
    \end&#123;minipage&#125;
    \caption&#123;填写信息&#125;
\end&#123;figure&#125;
</code></pre>
<h2 id="九张图片"><a href="#九张图片" class="headerlink" title="九张图片"></a>九张图片</h2><pre><code>\begin&#123;figure&#125;[htb]
    \centering
    \subfigure[冠状树]&#123;
        \label&#123;xx&#125;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runcoronaltree&#125;
        \end&#123;minipage&#125;
    &#125;
    \subfigure[龙曲线]&#123;
        \label&#123;xx&#125;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;rundragon&#125;
        \end&#123;minipage&#125;
    &#125;
    \subfigure[丢勒五边形]&#123;
        \label&#123;xx&#125;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;rundurer&#125;
        \end&#123;minipage&#125;
    &#125;
    
    \subfigure[蕨类植物]&#123;
        \label&#123;fern0&#125;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runfern0&#125; 
        \end&#123;minipage&#125;
    &#125;
    \subfigure[鱼群]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runfish&#125; 
        \end&#123;minipage&#125;
    &#125;
    \subfigure[树]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runtree&#125;
        \end&#123;minipage&#125;
    &#125;

    \subfigure[c曲线]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runc&#125; 
        \end&#123;minipage&#125;
    &#125;
    \subfigure[枫树]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runmapletree&#125; 
        \end&#123;minipage&#125;
    &#125;
    \subfigure[Sierpinski三角形]&#123;
        \begin&#123;minipage&#125;[b]&#123;0.3\textwidth&#125;
            \includegraphics[width=1\textwidth]&#123;runsierpinski&#125;
        \end&#123;minipage&#125;
    &#125;
    \caption&#123;程序运行结果&#125;
    \label&#123;runresult&#125;
    
\end&#123;figure&#125;
</code></pre>
<h1 id="图标题"><a href="#图标题" class="headerlink" title="图标题"></a>图标题</h1><pre><code>\vspace&#123;-0.8cm&#125;  %调整图片与上文的垂直距离
\setlength&#123;\abovecaptionskip&#125;&#123;-0.2cm&#125;   %调整图片标题与图距离
\setlength&#123;\belowcaptionskip&#125;&#123;-1cm&#125;   %调整图片标题与下文距离
</code></pre>
<p><strong>图片超过宽度</strong>会导致图片标题与下文之间间隔变大。<br>减少宽度即可：设置为行宽的90%</p>
<pre><code>\includegraphics[width = 0.9\textwidth]&#123;picname&#125;
</code></pre>
<h1 id="子标题与子图的距离"><a href="#子标题与子图的距离" class="headerlink" title="子标题与子图的距离"></a>子标题与子图的距离</h1><p>参考：<a target="_blank" rel="noopener" href="https://www.pianshen.com/article/8282354102/">subfigure命令插入多行多列图片修改子图与子图、子标题的距离</a><br>\subfigcapskip=-5pt %设置子图与子标题之间的距离</p>
<pre><code>\usepackage&#123;graphicx&#125;  %插入图片的宏包
\usepackage&#123;float&#125;  %设置图片浮动位置的宏包
\usepackage&#123;subfigure&#125;  %插入多图时用子图显示的宏包
 
\begin&#123;figure&#125;[H] %这里使用的是强制位置，除非真的放不下，不然就是写在哪里图就放在哪里，不会乱动
    \centering  %图片全局居中
    \vspace&#123;-0.35cm&#125; %设置与上面正文的距离
    \subfigtopskip=2pt %设置子图与上面正文或别的内容的距离
    \subfigbottomskip=2pt %设置第二行子图与第一行子图的距离，即下面的头与上面的脚的距离
    \subfigcapskip=-5pt %设置子图与子标题之间的距离
    \subfigure[original]&#123;
        \label&#123;level.sub.1&#125;
        \includegraphics[width=0.32\linewidth]&#123;./figure/original.png&#125;&#125;
    \quad %默认情况下两个子图之间空的较少，使用这个命令加大宽度
    \subfigure[level=9]&#123;
        \label&#123;level.sub.2&#125;
        \includegraphics[width=0.32\linewidth]&#123;./figure/level9.png&#125;&#125;
      %这里是空了一行，能够实现强制将四张图分成两行两列显示，而不是放不下图了再换行，使用\\也行。
    \subfigure[level=8]&#123;
        \label&#123;level.sub.3&#125;
        \includegraphics[width=0.32\linewidth]&#123;./figure/level8.png&#125;&#125;
    \quad
    \subfigure[level=7]&#123;
        \label&#123;level.sub.4&#125;
        \includegraphics[width=0.32\linewidth]&#123;./figure/level7.png&#125;&#125;
    \caption&#123;不同level的渲染效果&#125;
    \label&#123;level&#125;
\end&#123;figure&#125;
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2021/01/05/java/java-io/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/05/java/java-io/" class="post-title-link" itemprop="url">Java-IO</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-05 22:40:25" itemprop="dateCreated datePublished" datetime="2021-01-05T22:40:25+08:00">2021-01-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-06 09:40:53" itemprop="dateModified" datetime="2021-01-06T09:40:53+08:00">2021-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h1><p>一行一行地读：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> String <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    String path <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    StringBuilder result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        BufferedReader br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//构造一个BufferedReader类来读取文件</span>

        String s <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用readLine方法，一次读一行</span>
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span> System<span class="token punctuation">.</span><span class="token function">lineSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">catch</span><span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2021/01/05/write/latex/latex-zi-ti/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/05/write/latex/latex-zi-ti/" class="post-title-link" itemprop="url">Latex-字体</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-05 19:02:25" itemprop="dateCreated datePublished" datetime="2021-01-05T19:02:25+08:00">2021-01-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-06 11:51:34" itemprop="dateModified" datetime="2021-01-06T11:51:34+08:00">2021-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Latex/" itemprop="url" rel="index"><span itemprop="name">Latex</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="字体设置"><a href="#字体设置" class="headerlink" title="字体设置"></a>字体设置</h1><h2 id="英文字体"><a href="#英文字体" class="headerlink" title="英文字体"></a>英文字体</h2><p>单独设置：</p>
<pre><code>\usepackage&#123;ctex&#125;

\rmfamily&#123;Kafka&#125;和\rmfamily&#123;RocketMQ&#125;的调研报告&#125;
</code></pre>
<h1 id="字号大小对应关系"><a href="#字号大小对应关系" class="headerlink" title="字号大小对应关系"></a>字号大小对应关系</h1><table>
<thead>
<tr>
<th>字号</th>
<th>磅(pt)</th>
<th>毫米数</th>
</tr>
</thead>
<tbody><tr>
<td>初号</td>
<td>42</td>
<td>14.28</td>
</tr>
<tr>
<td>小初</td>
<td>36</td>
<td>12.70</td>
</tr>
<tr>
<td>一号</td>
<td>26</td>
<td>9.17</td>
</tr>
<tr>
<td>小一</td>
<td>24</td>
<td>8.47</td>
</tr>
<tr>
<td>二号</td>
<td>22</td>
<td>7.76</td>
</tr>
<tr>
<td>小二</td>
<td>18</td>
<td>6.35</td>
</tr>
<tr>
<td>三号</td>
<td>16</td>
<td>5.64</td>
</tr>
<tr>
<td>小三</td>
<td>15</td>
<td>5.29</td>
</tr>
<tr>
<td>四号</td>
<td>14</td>
<td>4.94</td>
</tr>
<tr>
<td>小四</td>
<td>12</td>
<td>4.32</td>
</tr>
<tr>
<td>五号</td>
<td>10.5</td>
<td>3.70</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2021/01/05/linux/kafka/da-jian-kafka-ji-qun/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/05/linux/kafka/da-jian-kafka-ji-qun/" class="post-title-link" itemprop="url">搭建kafka集群</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-05 10:27:18" itemprop="dateCreated datePublished" datetime="2021-01-05T10:27:18+08:00">2021-01-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-06 10:55:10" itemprop="dateModified" datetime="2021-01-06T10:55:10+08:00">2021-01-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="搭建zookeeper集群"><a href="#搭建zookeeper集群" class="headerlink" title="搭建zookeeper集群"></a>搭建zookeeper集群</h1><p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lenmom/p/10290045.html">centos7安装zookeeper3.4.12集群</a></p>
<h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>三台服务器，已经做了ssh免密登录，都安装了jdk8</p>
<pre class=" language-bash"><code class="language-bash">master: 192.168.244.5
slave1: 192.168.244.6
slave2: 192.168.244.7
</code></pre>
<h2 id="下载和解压"><a href="#下载和解压" class="headerlink" title="下载和解压"></a>下载和解压</h2><p><a target="_blank" rel="noopener" href="http://archive.apache.org/dist/zookeeper/">zookeeper历史版本</a><br>本次使用版本：zookeeper-3.4.12.tar.gz<br>在三台服务器都建立 /opt/software目录</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">mkdir</span> -p /opt/software
</code></pre>
<p>将安装包上传到master服务器，解压：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">tar</span> -xzvf zookeeper-3.4.12.tar.gz -C  /opt/software
</code></pre>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><pre class=" language-bash"><code class="language-bash"><span class="token function">mv</span> /opt/software/zookeeper-3.4.12/conf/zoo_sample.cfg  /opt/software/zookeeper-3.4.12/conf/zoo.cfg  

<span class="token function">vi</span> /opt/software/zookeeper-3.4.12/conf/zoo.cfg
</code></pre>
<p>注释掉dataDir=/tmp/zookeeper，然后在文件末尾添加：</p>
<pre class=" language-bash"><code class="language-bash">dataDir<span class="token operator">=</span>/opt/software/zookeeper-3.4.12/data
dataLogDir<span class="token operator">=</span>/opt/software/zookeeper-3.4.12/log
<span class="token comment" spellcheck="true"># 主机名可以用对应ip代替</span>
server.1<span class="token operator">=</span>master:2888:3888
server.2<span class="token operator">=</span>slave1:2888:3888
server.3<span class="token operator">=</span>slave2:2888:3888
</code></pre>
<p>创建myid文件：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">mkdir</span> -p /opt/software/zookeeper-3.4.12/data  <span class="token comment" spellcheck="true">#创建数据目录，该目录在zoo.cfg中配置</span>
<span class="token function">cd</span> /opt/software/zookeeper-3.4.12/data <span class="token comment" spellcheck="true">#上面配置的zookeeper数据保存目录</span>
<span class="token function">touch</span> myid   <span class="token comment" spellcheck="true">#创建myid文件</span>
<span class="token keyword">echo</span> <span class="token string">"1"</span><span class="token operator">>></span>myid   <span class="token comment" spellcheck="true">#往myid中写入1，对应server.X=&amp;#123;IP&amp;#125;:2888:3888 中的x数字</span>
</code></pre>
<p>将上面在master机器上配置好的zookeeper复制到slave1,slave2两台机器上去：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">scp</span> -r /opt/software/zookeeper-3.4.12/ slave1:/opt/software/  
<span class="token function">scp</span> -r /opt/software/zookeeper-3.4.12/ slave2:/opt/software/
</code></pre>
<p>修改slave1,slave2机器上/opt/software/zookeeper-3.4.12/data/myid为对应的值：<br>slave1中：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">cd</span> /opt/software/zookeeper-3.4.12/data
<span class="token function">rm</span> -f ./myid
<span class="token keyword">echo</span> <span class="token string">"2"</span><span class="token operator">>></span>myid
</code></pre>
<p>slave2中：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">cd</span> /opt/software/zookeeper-3.4.12/data
<span class="token function">rm</span> -f ./myid
<span class="token keyword">echo</span> <span class="token string">"3"</span><span class="token operator">>></span>myid   <span class="token comment" spellcheck="true">#往myid中写入3，对应server.X=&amp;#123;IP&amp;#125;:2888:3888 中的x数字,此处为3</span>
</code></pre>
<h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><pre class=" language-bash"><code class="language-bash">vim /etc/profile
</code></pre>
<p>在PATH后添加：:$ZK_HOME/bin</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">export</span> ZK_HOME<span class="token operator">=</span>/opt/software/zookeeper-3.4.12
<span class="token function">export</span> PATH<span class="token operator">=</span>XXXXXXX:<span class="token variable">$ZK_HOME</span>/bin
</code></pre>
<p>使环境变量生效：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">source</span> /etc/profile
</code></pre>
<p>三台服务器都配置环境变量。</p>
<h2 id="启动zookeeper"><a href="#启动zookeeper" class="headerlink" title="启动zookeeper"></a>启动zookeeper</h2><p>三台服务器都执行：</p>
<pre class=" language-bash"><code class="language-bash">zkServer.sh start
</code></pre>
<h2 id="zookeeper命令"><a href="#zookeeper命令" class="headerlink" title="zookeeper命令"></a>zookeeper命令</h2><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 启动ZK服务      </span>
sh zkServer.sh start

<span class="token comment" spellcheck="true"># 查看ZK服务状态: </span>
sh zkServer.sh status
<span class="token comment" spellcheck="true"># 停止ZK服务: </span>
sh zkServer.sh stop
<span class="token comment" spellcheck="true"># 重启ZK服务</span>
sh zkServer.sh restart
<span class="token comment" spellcheck="true"># 客户端连接zookeeper</span>
zkCli.sh -server master:2181
</code></pre>
<h1 id="搭建Kafka"><a href="#搭建Kafka" class="headerlink" title="搭建Kafka"></a>搭建Kafka</h1><p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ifme/p/13929928.html">Centos7搭建kafka集群</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaohan970121/p/12357199.html">centos7搭建kafka集群</a></li>
</ul>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p><a target="_blank" rel="noopener" href="http://archive.apache.org/dist/kafka">历史版本</a><br>本文选择kafka_2.13-2.4.0.tgz。<br>上传到master /opt/software下，解压：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">tar</span> -zxvf kafka_2.12-2.6.0.tgz
</code></pre>
<h2 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h2><p>修改server.properties:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">vi</span> /opt/software/kafka_2.13-2.4.0/config/server.properties

<span class="token comment" spellcheck="true"># 修改如下内容</span>
// 依次增长的整数，0、1、2，集群中Broker的唯一id
broker.id：0
advertised.listeners<span class="token operator">=</span>PLAINTEXT://192.168.244.5:9092
zookeeper.connect<span class="token operator">=</span>192.168.244.5:2181,192.168.244.6:2181,192.168.244.7:2181
</code></pre>
<p>修改/opt/software/kafka_2.13-2.4.0/config/zookeeper.properties中的dataDir：</p>
<pre class=" language-bash"><code class="language-bash">dataDir<span class="token operator">=</span>/opt/software/zookeeper-3.4.12/data
</code></pre>
<p>分发到其他两个节点：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">scp</span> -r /opt/software/kafka_2.13-2.4.0/  slave1:/opt/software/
<span class="token function">scp</span> -r /opt/software/kafka_2.13-2.4.0/  slave2:/opt/software/
</code></pre>
<p>修改其它节点配置文件</p>
<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#slave1节点</span>
<span class="token function">vi</span> /opt/software/kafka_2.13-2.4.0/config/server.properties

<span class="token comment" spellcheck="true"># The id of the broker. This must be set to a unique integer for each broker.</span>
broker.id<span class="token operator">=</span>1
advertised.listeners<span class="token operator">=</span>PLAINTEXT://192.168.244.6:9092

<span class="token comment" spellcheck="true">#slave2节点</span>
<span class="token function">vi</span> /opt/software/kafka_2.13-2.4.0/config/server.properties

<span class="token comment" spellcheck="true"># The id of the broker. This must be set to a unique integer for each broker.</span>
broker.id<span class="token operator">=</span>2
advertised.listeners<span class="token operator">=</span>PLAINTEXT://192.168.244.7:9092
</code></pre>
<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>三台服务器在/opt/software/kafka_2.13-2.4.0/bin/下：</p>
<pre class=" language-bash"><code class="language-bash">./kafka-server-start.sh -daemon <span class="token punctuation">..</span>/config/server.properties
</code></pre>
<h2 id="kafka命令"><a href="#kafka命令" class="headerlink" title="kafka命令"></a>kafka命令</h2><p>由于配置了环境变量，所以可以直接执行：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 启动kafka</span>
kafka-server-start.sh -daemon <span class="token punctuation">..</span>/config/server.properties

<span class="token comment" spellcheck="true"># 停止</span>
./kafka-server-stop.sh

<span class="token comment" spellcheck="true"># 查看topic</span>
kafka-topics.sh --list --zookeeper master:2181,slave1:2181,slave2:2181

<span class="token comment" spellcheck="true"># 创建topic，replication-factor设置副本的数量，不能超过broker数量</span>
kafka-topics.sh --create --zookeeper master:2181,slave1:2181,slave2:2181 --replication-factor 1 --partitions 1 --topic <span class="token function">test</span>

<span class="token comment" spellcheck="true"># 发送消息</span>
kafka-console-producer.sh --broker-list master:9092,slave1:9092,slave2:9092 --topic <span class="token function">test</span>

<span class="token comment" spellcheck="true"># 接收消息</span>
kafka-console-consumer.sh --bootstrap-server  master:9092,slave1:9092,slave2:9092 --topic <span class="token function">test</span> --from-beginning
</code></pre>
<h1 id="安装中的问题"><a href="#安装中的问题" class="headerlink" title="安装中的问题"></a>安装中的问题</h1><h2 id="kafka无法启动"><a href="#kafka无法启动" class="headerlink" title="kafka无法启动"></a>kafka无法启动</h2><p>master中原来安装过单机版kafka，启动时报错（在/opt/software/kafka_2.13-2.4.0/logs/server.log中）：</p>
<pre class=" language-bash"><code class="language-bash">ERROR Fatal error during KafkaServer startup. Prepare to <span class="token function">shutdown</span> <span class="token punctuation">(</span>kafka.server.KafkaServer<span class="token punctuation">)</span> kafka.common.InconsistentClusterIdException: The Cluster ID Reu8ClK3TTywPiNLIQIm1w doesn\'t match stored clusterId Some<span class="token punctuation">(</span>BaPSk1bCSsKFxQQ4717R6Q<span class="token punctuation">)</span> <span class="token keyword">in</span> meta.properties. The broker is trying to <span class="token function">join</span> the wrong cluster. Configured zookeeper.connect may be wrong. at kafka.server.KafkaServer.startup<span class="token punctuation">(</span>KafkaServer.scala:220<span class="token punctuation">)</span> at kafka.server.KafkaServerStartable.startup<span class="token punctuation">(</span>KafkaServerStartable.scala:44<span class="token punctuation">)</span> at kafka.Kafka$.main<span class="token punctuation">(</span>Kafka.scala:84<span class="token punctuation">)</span> at kafka.Kafka.main<span class="token punctuation">(</span>Kafka.scala<span class="token punctuation">)</span>
</code></pre>
<p>参考：<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/59481878/unable-to-start-kafka-with-zookeeper-kafka-common-inconsistentclusteridexceptio">kafka.common.InconsistentClusterIdException)
</a></p>
<p>原因是两个kafka占用了同一个kafka日志目录（存放topic的目录）。</p>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><ol>
<li><p>停止三台服务器中zookeeper和kafka。</p>
</li>
<li><p>删除 三个服务器以下内容：</p>
<pre class=" language-bash"><code class="language-bash">/opt/software/kafka_2.13-2.4.0/logs 下所有内容
/opt/software/zookeeper-3.4.12/log 下所有内容
/opt/software/zookeeper-3.4.12/data 下除了myid外所有内容
</code></pre>
</li>
<li><p>在三台服务器下新建kafka日志目录：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">mkdir</span> -p /opt/software/kafka_2.13-2.4.0/kafka-logs
</code></pre>
</li>
<li><p>修改/opt/software/kafka_2.13-2.4.0/config/server.properties中配置的kafka日志目录，三台服务器都需要修改：</p>
</li>
</ol>
<pre class=" language-bash"><code class="language-bash"><span class="token function">vi</span> /opt/software/kafka_2.13-2.4.0/config/server.properties
log.dirs<span class="token operator">=</span>/opt/software/kafka_2.13-2.4.0/kafka-logs
</code></pre>
<p>然后重新启动zookeeper和kafka。</p>
<h2 id="zookeeper-ConnectException"><a href="#zookeeper-ConnectException" class="headerlink" title="zookeeper ConnectException"></a>zookeeper ConnectException</h2><p>启动zookeeper后发现/opt/software/zookeeper-3.4.12/data/zookeeper.out中报错：</p>
<p><img src="https://github.com/ChangzeYan/ChangzeYan.github.io/raw/hexo/source/pic/zookeeper_connection_err.png" alt="Connection refused"></p>
<h3 id="解决-1"><a href="#解决-1" class="headerlink" title="解决"></a>解决</h3><p>参考：[WARN [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /x.x.x.x:3888](<a target="_blank" rel="noopener" href="https://www.cnblogs.com/chuijingjing/p/10907244.html">https://www.cnblogs.com/chuijingjing/p/10907244.html</a>)</p>
<p>如果是刚启动zookeeper报出这个错误，然后不再不错，那就是正常现象。是由于有的节点启动，而有的节点还没有启动，这段时间已经启动的节点就会去努力寻找没有启动的节点，就会报出这样的错误。这是一种正常现象，无需多虑。</p>
<p>如果启动很长时间之后还在报错，可以尝试：<br>修改每个节点的zoo.cfg文件中的相对应的server.x=0.0.0.0:2888:3888</p>
<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># master:</span>
server.1<span class="token operator">=</span>0.0.0.0:2888:3888
server.2<span class="token operator">=</span>slave1:2888:3888
server.3<span class="token operator">=</span>slave2:2888:3888

<span class="token comment" spellcheck="true"># slave1:</span>
server.1<span class="token operator">=</span>master:2888:3888
server.2<span class="token operator">=</span>0.0.0.0:2888:3888
server.3<span class="token operator">=</span>slave2:2888:3888

<span class="token comment" spellcheck="true"># slave2:</span>
server.1<span class="token operator">=</span>master:2888:3888
server.2<span class="token operator">=</span>slave1:2888:3888
server.3<span class="token operator">=</span>0.0.0.0:2888:3888
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2021/01/04/docker/an-zhuang-jing-xiang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/04/docker/an-zhuang-jing-xiang/" class="post-title-link" itemprop="url">安装镜像</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-01-04 18:35:42 / 修改时间：20:59:00" itemprop="dateCreated datePublished" datetime="2021-01-04T18:35:42+08:00">2021-01-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Kafka"><a href="#Kafka" class="headerlink" title="Kafka"></a>Kafka</h1><p>参考：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8ccd712e2599">Docker快速搭建Kafka 1.x集群</a><br>windows下，安装docker时默认安装了docker-compose，可以执行测试：</p>
<pre class=" language-bash"><code class="language-bash">docker-compose -v
</code></pre>
<h2 id="编写docker-compose-yml"><a href="#编写docker-compose-yml" class="headerlink" title="编写docker-compose.yml"></a>编写docker-compose.yml</h2><pre class=" language-bash"><code class="language-bash">version: <span class="token string">'2'</span>
services:
  zookeeper:
    image: <span class="token string">"zookeeper"</span>
    hostname: <span class="token string">"zookeeper.local"</span>
    container_name: <span class="token string">"zookeeper"</span>
    <span class="token comment" spellcheck="true">#设置网络别名</span>
    networks:
      local:
        aliases:
          - <span class="token string">"zookeeper.local"</span>
  kafka:
    image: <span class="token string">"wurstmeister/kafka"</span>
    hostname: <span class="token string">"kafka.local"</span>
    container_name: <span class="token string">"kafka"</span>
    ports:
      - <span class="token string">"9092:9092"</span>
    networks:
      local:
        aliases:
          - <span class="token string">"kafka.local"</span>
    environment:
      KAFKA_ADVERTISED_HOST_NAME: kafka.local
      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181
<span class="token comment" spellcheck="true">#设置网络，名为local</span>
networks:
  local:
    driver: bridge
</code></pre>
<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><pre class=" language-bash"><code class="language-bash">docker-compose up -d
</code></pre>
<h2 id="进入容器"><a href="#进入容器" class="headerlink" title="进入容器"></a>进入容器</h2><pre class=" language-bash"><code class="language-bash">进入kafka容器
docker <span class="token function">exec</span> -it kafka /bin/bash
<span class="token function">cd</span> /opt/kafka_2.12-2.4.0/bin/
<span class="token comment" spellcheck="true">#创建topic</span>
kafka-console-producer.sh --broker-list kafka:9092 --topic <span class="token function">test</span>

<span class="token comment" spellcheck="true"># 查看topic，localhost要改成zookeeper容器的名字</span>
./kafka-topics.sh --list --zookeeper zookeeper:2181

<span class="token comment" spellcheck="true">#生产者生产消息</span>
kafka-console-producer.sh --broker-list localhost:9092 --topic <span class="token function">test</span>

<span class="token comment" spellcheck="true">#消费topic</span>
kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test--from-beginning
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2021/01/01/npm/npm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/01/npm/npm/" class="post-title-link" itemprop="url">Hexo 命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-01-01 20:48:33 / 修改时间：21:15:15" itemprop="dateCreated datePublished" datetime="2021-01-01T20:48:33+08:00">2021-01-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Npm/" itemprop="url" rel="index"><span itemprop="name">Npm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="重建项目依赖"><a href="#重建项目依赖" class="headerlink" title="重建项目依赖"></a>重建项目依赖</h1><pre class=" language-shell"><code class="language-shell">rm -rf node_modules && npm install --force
</code></pre>
<h1 id="更新项目依赖"><a href="#更新项目依赖" class="headerlink" title="更新项目依赖"></a>更新项目依赖</h1><p>更新后会在package.json中看到变化，<strong>但是可能会造成格式错误，提前做好package.json的备份</strong></p>
<pre class=" language-shell"><code class="language-shell"> npm audit fix --force
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/19/java/java-ji-he-kuang-jia/java-ji-he-kuang-jia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/19/java/java-ji-he-kuang-jia/java-ji-he-kuang-jia/" class="post-title-link" itemprop="url">Java集合框架</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-12-19 20:24:04 / 修改时间：22:55:42" itemprop="dateCreated datePublished" datetime="2020-12-19T20:24:04+08:00">2020-12-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数组和集合的区别"><a href="#数组和集合的区别" class="headerlink" title="数组和集合的区别"></a>数组和集合的区别</h1><ul>
<li>数组能存放基本数据类型和对象，而集合类存放的都是对象，集合类不能存放基本数据类型。数组和集合存放的对象皆为对象的引用地址。Java集合中实际存放的只是对象的引用，每个集合元素都是一个引用变量，实际内容都放在堆内存或者方法区里。</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 数组能存放对象和基本数据类型</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
List<span class="token punctuation">[</span><span class="token punctuation">]</span> listNums<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">List</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 集合只能存放引用数据类型</span>
List<span class="token operator">&lt;</span>Integer<span class="token operator">></span>list<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>数组大小固定无法动态改变，集合类容量动态改变。</li>
<li>数组无法判断其中实际存有多少元素，length只告诉了数组的容量，而集合的size()可以确切知道元素的个数</li>
<li>集合有多种实现方式和不同适用场合，不像数组仅采用顺序表方式</li>
<li>集合以类的形式存在，具有封装、继承、多态等类的特性，通过简单的方法和属性即可实现各种复杂操作，大大提高了软件的开发效率，而数组不具备这种特征</li>
</ul>
<h1 id="Java集合框架图"><a href="#Java集合框架图" class="headerlink" title="Java集合框架图"></a>Java集合框架图</h1><p>椭圆为接口，方形为类，实线为继承，虚线为实现：<br><img src="https://github.com/ChangzeYan/ChangzeYan.github.io/raw/hexo/source/pic/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%9B%BE.png" alt="Java集合框架图"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/17/python/python-yu-fa/python-import/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/17/python/python-yu-fa/python-import/" class="post-title-link" itemprop="url">Python-import</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-17 21:45:46" itemprop="dateCreated datePublished" datetime="2020-12-17T21:45:46+08:00">2020-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-26 18:59:35" itemprop="dateModified" datetime="2021-01-26T18:59:35+08:00">2021-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="同一包内import"><a href="#同一包内import" class="headerlink" title="同一包内import"></a>同一包内import</h1><p>问题分两种情况</p>
<ol>
<li>如果你是自己手动建的文件夹，你可以直接import</li>
<li>如果你是用pycharm的新建python package，你新建的目录下就会有一个<strong>init</strong>.py文件</li>
</ol>
<p>Trie.py文件与<strong>init</strong>.py文件在同一目录NER下，在<strong>init</strong>.py中importTrie.py：</p>
<pre class=" language-py"><code class="language-py">'''__init__.py '''
from NER.Trie import Trie_Ope
</code></pre>
<p>如果仍不能导入，在导包的前面加入这样一段代码:</p>
<pre class=" language-py"><code class="language-py">import os, sys
current_dir = os.path.abspath(os.path.dirname(__file__))
sys.path.append(current_dir)
</code></pre>
<p>这样导入在部署的时候可能出错，找不到 module NER，解决：将<strong>init</strong>.py文件改成其他的名称，这时这个文件夹就不是python package了，然后右键文件夹选择 mark as Sources root，然后导入：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> Trie <span class="token keyword">import</span> Trie_Ope
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/17/leetcode/tree/zi-dian-shu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/17/leetcode/tree/zi-dian-shu/" class="post-title-link" itemprop="url">字典树</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-12-17 21:04:44 / 修改时间：21:38:21" itemprop="dateCreated datePublished" datetime="2020-12-17T21:04:44+08:00">2020-12-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="字典树"><a href="#字典树" class="headerlink" title="字典树"></a>字典树</h1><p>又称前缀树，实现一个 Trie (前缀树)，包含 insert, search, 和 startsWith 这三个操作。</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T208Trie</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">class</span> <span class="token class-name">TrieNode</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        TrieNode <span class="token punctuation">[</span><span class="token punctuation">]</span>nodes<span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> isLeaf<span class="token punctuation">;</span>
        <span class="token keyword">int</span> id<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token function">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            nodes<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            isLeaf<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            id<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> TrieNode root<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">T208Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        root<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Inserts a word into the trie. */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>String word<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        TrieNode tmpRoot<span class="token operator">=</span>root<span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token operator">=</span>word<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span> c<span class="token operator">=</span>word<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
            tmpRoot<span class="token operator">=</span>tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        tmpRoot<span class="token punctuation">.</span>isLeaf<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Returns if the word is in the trie. */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">search</span><span class="token punctuation">(</span>String word<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        TrieNode tmpRoot<span class="token operator">=</span>root<span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token operator">=</span>word<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span> c<span class="token operator">=</span>word<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            tmpRoot<span class="token operator">=</span>tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> tmpRoot<span class="token punctuation">.</span>isLeaf<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">startsWith</span><span class="token punctuation">(</span>String prefix<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        TrieNode tmpRoot<span class="token operator">=</span>root<span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token operator">=</span>prefix<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span> c<span class="token operator">=</span>prefix<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            tmpRoot<span class="token operator">=</span>tmpRoot<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        T208Trie t208Trie<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">T208Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t208Trie<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t208Trie<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"hell"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t208Trie<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"helloa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/17/python/nlp/wen-ben-xiang-si-du/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/17/python/nlp/wen-ben-xiang-si-du/" class="post-title-link" itemprop="url">文本相似度</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-12-17 20:30:46 / 修改时间：20:43:57" itemprop="dateCreated datePublished" datetime="2020-12-17T20:30:46+08:00">2020-12-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="词汇语义相似度"><a href="#词汇语义相似度" class="headerlink" title="词汇语义相似度"></a>词汇语义相似度</h1><h2 id="基于word-net语义相似度计算"><a href="#基于word-net语义相似度计算" class="headerlink" title="基于word_net语义相似度计算"></a>基于word_net语义相似度计算</h2><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/loveitlovelife/article/details/102582942">WordNet介绍及相似度计算</a><br> 获取单词的所有含义：</p>
<pre class=" language-py"><code class="language-py">print(wn.synsets("dog"))

>>>[Synset('dog.n.01'), Synset('frump.n.01'), Synset('dog.n.03'),
 Synset('cad.n.01'), Synset('frank.n.02'), Synset('pawl.n.01'),
 Synset('andiron.n.01'), Synset('chase.v.01')]
</code></pre>
<p> 计算语义相似度：</p>
<pre class=" language-py"><code class="language-py">dog = wn.synset('dog.n.01')
cat = wn.synset('cat.n.01')
# 当dog词性为'dog.n.01'与'cat.n.01'的语义相似度
similar = dog.path_similarity(cat)
print(similar)

>>>0.2
</code></pre>
<h1 id="字面相似度"><a href="#字面相似度" class="headerlink" title="字面相似度"></a>字面相似度</h1><h2 id="FuzzyWuzzy"><a href="#FuzzyWuzzy" class="headerlink" title="FuzzyWuzzy"></a>FuzzyWuzzy</h2><p>FuzzyWuzzy是字符串模糊匹配工具</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class=" language-bash"><code class="language-bash">pip <span class="token function">install</span> fuzzywuzzy
</code></pre>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><pre class=" language-py"><code class="language-py">from fuzzywuzzy import fuzz
from fuzzywuzzy import process
# 简单匹配
fuzz.ratio("this is a test", "this is a test!")
>>> 97

# 非完全匹配（Partial Ratio）
fuzz.partial_ratio("this is a test", "this is a test!")
>>> 100

# 忽略顺序匹配（Token Sort Ratio）
fuzz.ratio("fuzzy wuzzy was a bear", "wuzzy fuzzy was a bear")
>>> 91
fuzz.token_sort_ratio("fuzzy wuzzy was a bear", "wuzzy fuzzy was a bear")
>>> 100

# 去重子集匹配（Token Set Ratio）
fuzz.token_sort_ratio("fuzzy was a bear", "fuzzy fuzzy was a bear")
>>> 84
fuzz.token_set_ratio("fuzzy was a bear", "fuzzy fuzzy was a bear")
>>> 100

# 从候选字符串中选出最相似的字符串
choices = ["Atlanta Falcons", "New York Jets", "New York Giants", "Dallas Cowboys"]
process.extract("new york jets", choices, limit=2)
>>> [('New York Jets', 100), ('New York Giants', 78)]
process.extractOne("cowboys", choices)
>>>  ("Dallas Cowboys", 90)
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/16/python/python-yu-fa/python-cao-zuo-mongo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/16/python/python-yu-fa/python-cao-zuo-mongo/" class="post-title-link" itemprop="url">Python-操作mongo</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-16 22:10:04" itemprop="dateCreated datePublished" datetime="2020-12-16T22:10:04+08:00">2020-12-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-13 19:47:12" itemprop="dateModified" datetime="2021-03-13T19:47:12+08:00">2021-03-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><pre class=" language-bash"><code class="language-bash">pip <span class="token function">install</span> pymongo
</code></pre>
<h1 id="获取连接"><a href="#获取连接" class="headerlink" title="获取连接"></a>获取连接</h1><pre class=" language-py"><code class="language-py">from pymongo import MongoClient
# 无密码：
mongo_client = MongoClient(host='localhost', port=27017)

# 使用管理员的用户名和密码
myclient = pymongo.MongoClient('mongodb://root:123456@localhost:27017/')
</code></pre>
<p>使用数据库密码：</p>
<pre class=" language-py"><code class="language-py">mongo_client = MongoClient(host='ip', port=34843)
# 数据库名
db = mongo_client.my_mongodb
db.authenticate('username', 'xxxxx')
# collection名称
collection = db.student
# 打印前3条数据
for document in collection.find().limit(3):
    print(document)
</code></pre>
<h1 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h1><pre class=" language-python"><code class="language-python">json_dict <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>  <span class="token operator">//</span>将json字符串转成字典
mongo_collection<span class="token punctuation">.</span>insert_one<span class="token punctuation">(</span>json_dict<span class="token punctuation">)</span>
</code></pre>
<h1 id="加载mongo数据到pandas"><a href="#加载mongo数据到pandas" class="headerlink" title="加载mongo数据到pandas"></a>加载mongo数据到pandas</h1><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> pymongo <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> json
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

mongo_client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> port<span class="token operator">=</span>xxx<span class="token punctuation">)</span>
db <span class="token operator">=</span> mongo_client<span class="token punctuation">.</span>db_name
db<span class="token punctuation">.</span>authenticate<span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'pwd'</span><span class="token punctuation">)</span>
collection <span class="token operator">=</span> db<span class="token punctuation">.</span>student
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>list<span class="token punctuation">(</span>collection<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/16/docker/docker-ming-ling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/16/docker/docker-ming-ling/" class="post-title-link" itemprop="url">Docker命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-16 21:02:03" itemprop="dateCreated datePublished" datetime="2020-12-16T21:02:03+08:00">2020-12-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-06 18:52:33" itemprop="dateModified" datetime="2021-06-06T18:52:33+08:00">2021-06-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 下载镜像</span>
docker pull 镜像名
<span class="token comment" spellcheck="true"># 查看镜像</span>
docker images
<span class="token comment" spellcheck="true"># 删除镜像</span>
docker rmi -f （强制删除参数） 镜像名/id
</code></pre>
<p>运行容器：</p>
<pre class=" language-bash"><code class="language-bash">docker run <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARG<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre>
<p>参数：<br>OPTIONS说明：</p>
<pre class=" language-bash"><code class="language-bash">-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；
-d: 后台运行容器，并返回容器ID；
-i: 以交互模式运行容器，通常与 -t 同时使用；
-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；
-P: 随机端口映射，容器内部端口随机映射到主机的高端口
-p: 指定端口映射，格式为：主机<span class="token punctuation">(</span>宿主<span class="token punctuation">)</span>端口:容器端口
--name<span class="token operator">=</span><span class="token string">"nginx-lb"</span><span class="token keyword">:</span> 为容器指定一个名称；名称是唯一的，不可重名
--dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；
--dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；
-h <span class="token string">"mars"</span><span class="token keyword">:</span> 指定容器的hostname；
-e username<span class="token operator">=</span><span class="token string">"ritchie"</span><span class="token keyword">:</span> 设置环境变量；
--env-file<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>: 从指定文件读入环境变量；
--cpuset<span class="token operator">=</span><span class="token string">"0-2"</span> or --cpuset<span class="token operator">=</span><span class="token string">"0,1,2"</span><span class="token keyword">:</span> 绑定容器到指定CPU运行；
-m :设置容器使用内存最大值；
--net<span class="token operator">=</span><span class="token string">"bridge"</span><span class="token keyword">:</span> 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；
--link<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>: 添加链接到另一个容器；
--expose<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>: 开放一个端口或一组端口；
--volume , -v: 绑定一个卷
--rm：--rm选项不能与-d同时使用，在容器退出后，自动执行docker <span class="token function">rm</span> -v
</code></pre>
<p>查看正在运行的容器：</p>
<pre class=" language-bash"><code class="language-bash">docker <span class="token function">ps</span>
已停止但仍存在的容器
docker <span class="token function">ps</span> -a
</code></pre>
<p>进入容器：</p>
<pre class=" language-bash"><code class="language-bash">docker <span class="token function">exec</span> -it 容器id /bin/bash
</code></pre>
<p>退出容器（容器不会停止）</p>
<pre class=" language-bash"><code class="language-bash"><span class="token keyword">exit</span>
</code></pre>
<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 删除容器</span>
docker <span class="token function">rm</span> 容器id或容器name
<span class="token comment" spellcheck="true"># 强制删除容器db01、db02</span>
docker <span class="token function">rm</span> -f db01 db02
</code></pre>
<h1 id="查看容器日志"><a href="#查看容器日志" class="headerlink" title="查看容器日志"></a>查看容器日志</h1><pre class=" language-bash"><code class="language-bash">docker logs <span class="token punctuation">[</span>options<span class="token punctuation">]</span> 容器名

<span class="token comment" spellcheck="true"># 打印容器mytest应用后10行的内容：</span>
docker logs --tail<span class="token operator">=</span><span class="token string">"10"</span> mytest
</code></pre>
<table>
<thead>
<tr>
<th>名字</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>–details</td>
<td></td>
<td>显示提供给日志的额外细节</td>
</tr>
<tr>
<td>–follow或-f</td>
<td></td>
<td>按日志输出</td>
</tr>
<tr>
<td>–since</td>
<td></td>
<td>从某个时间开始显示，例如2013-01-02T13:23:37</td>
</tr>
<tr>
<td>–tail</td>
<td>all</td>
<td>从日志末尾多少行开始显示</td>
</tr>
<tr>
<td>–timestamps或-t</td>
<td></td>
<td>显示时间戳</td>
</tr>
<tr>
<td>–until</td>
<td></td>
<td>打印某个时间以前的日志，例如 2013-01-02T13:23:37</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ChangzeYan</p>
  <div class="site-description" itemprop="description">天空中没有留下翅膀的痕迹，但我已飞过</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">71</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ChangzeYan</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
