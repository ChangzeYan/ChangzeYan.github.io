<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"changzeyan.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
<meta property="og:type" content="website">
<meta property="og:title" content="YCZ">
<meta property="og:url" content="https://changzeyan.github.io/page/5/index.html">
<meta property="og:site_name" content="YCZ">
<meta property="og:description" content="天空中没有留下翅膀的痕迹，但我已飞过">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ChangzeYan">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://changzeyan.github.io/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>YCZ</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="YCZ" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">YCZ</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">走向内心，寻求超越</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/08/ji-suan-ji-wang-luo/chuan-shu-ceng/tcp-he-udp-xie-yi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/ji-suan-ji-wang-luo/chuan-shu-ceng/tcp-he-udp-xie-yi/" class="post-title-link" itemprop="url">TCP和UDP协议</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-08 22:01:43" itemprop="dateCreated datePublished" datetime="2020-12-08T22:01:43+08:00">2020-12-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-11-20 04:26:27" itemprop="dateModified" datetime="2021-11-20T04:26:27+08:00">2021-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TCP和UDP</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/12/08/ji-suan-ji-wang-luo/chuan-shu-ceng/tcp-he-udp-xie-yi/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/08/ji-suan-ji-wang-luo/osi-qi-ceng-xie-yi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/ji-suan-ji-wang-luo/osi-qi-ceng-xie-yi/" class="post-title-link" itemprop="url">OSI七层协议</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-08 21:16:05" itemprop="dateCreated datePublished" datetime="2020-12-08T21:16:05+08:00">2020-12-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-11-20 04:27:01" itemprop="dateModified" datetime="2021-11-20T04:27:01+08:00">2021-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>OSI七层协议的内容</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/12/08/ji-suan-ji-wang-luo/osi-qi-ceng-xie-yi/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/03/git/git-ming-ling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/03/git/git-ming-ling/" class="post-title-link" itemprop="url">Git命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-03 10:51:18" itemprop="dateCreated datePublished" datetime="2020-12-03T10:51:18+08:00">2020-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-07 20:54:16" itemprop="dateModified" datetime="2021-01-07T20:54:16+08:00">2021-01-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="关联远程仓库并上传"><a href="#关联远程仓库并上传" class="headerlink" title="关联远程仓库并上传"></a>关联远程仓库并上传</h1><p>首先在github上创建仓库</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> init
将本地项目工作区的所有文件添加到暂存区
<span class="token function">git</span> add <span class="token keyword">.</span>

<span class="token comment" spellcheck="true"># 可选</span>
<span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>
    <span class="token function">git</span> config user.email <span class="token string">"2155513297@qq.com"</span>
    <span class="token function">git</span> config user.name <span class="token string">"Winds-Y"</span>
<span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;    </span>

<span class="token function">git</span> commit -m <span class="token string">"firstCommit"</span>  <span class="token punctuation">(</span>若有修改或添加文件执行<span class="token punctuation">)</span>
关联远程仓库：origin 为远程仓库名
<span class="token function">git</span> remote add origin  https://github.com/Yahtz/TryBmob.git（远程仓库地址）
<span class="token comment" spellcheck="true"># 多用户：</span>
<span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>
    <span class="token comment" spellcheck="true"># git remote add origin git@ChangzeYan:ChangzeYan/test.git</span>
    <span class="token comment" spellcheck="true"># git remote add origin git@Winds-Y:Winds-Y/test.git</span>
<span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>
<span class="token function">git</span> push -u origin master 
（若远程仓库有readme.md等本地仓库没有的文件，需要先pull）
（git pull origin master --allow-unrelated-histories）
或者
（git pull --rebase origin master）
然后再push
</code></pre>
<h1 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h1><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 查看添加到git的文件</span>
<span class="token function">git</span> ls-files
</code></pre>
<h2 id="添加文件不成功"><a href="#添加文件不成功" class="headerlink" title="添加文件不成功"></a>添加文件不成功</h2><p>git add出现 “fatal: in unpopulated submodule XXX” 错误<br>在本地仓库如果克隆了其他远程仓库，该远程仓库就会git add失败，解决：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">rm</span> -rf --cached xxxx<span class="token punctuation">(</span>文件夹的名称<span class="token punctuation">)</span>
<span class="token function">git</span> add xxxx/*
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/12/02/docker/an-zhuang-docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/02/docker/an-zhuang-docker/" class="post-title-link" itemprop="url">Docker安装与配置</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-02 15:32:43" itemprop="dateCreated datePublished" datetime="2020-12-02T15:32:43+08:00">2020-12-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-27 23:01:14" itemprop="dateModified" datetime="2021-01-27T23:01:14+08:00">2021-01-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux上的安装与配置"><a href="#Linux上的安装与配置" class="headerlink" title="Linux上的安装与配置"></a>Linux上的安装与配置</h1><p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/yufeng218/p/8370670.html">CentOS7上安装docker</a></p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>Docker 要求 CentOS 系统的内核版本高于 3.10 ，查看本页面的前提条件来验证你的CentOS 版本是否支持 Docker 。<br>1、通过 uname -r 命令查看你当前的内核版本（若不满足要求可以先升级内核）</p>
<pre class=" language-bash"><code class="language-bash"> <span class="token function">uname</span> -r
</code></pre>
<p>2、使用 root 权限登录 Centos。确保 yum 包更新到最新。</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum update
</code></pre>
<p>3、卸载旧版本的docker(如果安装过旧版本的话)</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum remove docker  docker-common docker-selinux docker-engine
</code></pre>
<p>4、安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
</code></pre>
<p>5、设置yum源</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</code></pre>
<p>可以查看所有仓库中所有docker版本，并选择特定版本安装</p>
<pre class=" language-bash"><code class="language-bash">$ yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r
</code></pre>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>由于repo中默认只开启stable仓库，故这里安装的是最新稳定版</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce
</code></pre>
<p>或者安装指定的版本：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token operator">&lt;</span>FQPN<span class="token operator">></span>
<span class="token comment" spellcheck="true"># 例如：sudo yum install docker-ce-17.12.0.ce</span>
</code></pre>
<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>启动并加入开机启动</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sudo</span> systemctl start docker
$ <span class="token function">sudo</span> systemctl <span class="token function">enable</span> docker
</code></pre>
<p>验证安装是否成功(有client和service两部分表示docker安装启动都成功了)</p>
<pre class=" language-bash"><code class="language-bash">$ docker version
</code></pre>
<p>如果有报错：</p>
<pre class=" language-bash"><code class="language-bash">Transaction check error:
  <span class="token function">file</span> /usr/bin/docker from <span class="token function">install</span> of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with <span class="token function">file</span> from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64
  <span class="token function">file</span> /usr/bin/docker-containerd from <span class="token function">install</span> of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with <span class="token function">file</span> from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64
  <span class="token function">file</span> /usr/bin/docker-containerd-shim from <span class="token function">install</span> of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with <span class="token function">file</span> from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64
  <span class="token function">file</span> /usr/bin/dockerd from <span class="token function">install</span> of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with <span class="token function">file</span> from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64
</code></pre>
<p>卸载旧版本的包</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sudo</span> yum erase docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64
</code></pre>
<p>再次安装：</p>
<pre class=" language-bash"><code class="language-bash"> yum <span class="token function">install</span> docker-ce
</code></pre>
<h2 id="配置国内镜像"><a href="#配置国内镜像" class="headerlink" title="配置国内镜像"></a>配置国内镜像</h2><p>进入 /etc/docker</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span>-<span class="token string">'EOF'</span>
</code></pre>
<p>输入： 网易镜像</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>
    <span class="token string">"registry-mirrors"</span>:<span class="token punctuation">[</span><span class="token string">"http://hub-mirror.c.163.com"</span>,<span class="token string">"https://almtd3fa.mirror.aliyuncs.com"</span><span class="token punctuation">]</span>
<span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>

EOF
</code></pre>
<p>重启docker</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart docker
</code></pre>
<h2 id="开启远程访问"><a href="#开启远程访问" class="headerlink" title="开启远程访问"></a>开启远程访问</h2><p>修改Docker配置文件</p>
<pre class=" language-bash"><code class="language-bash"> <span class="token function">vi</span> /lib/systemd/system/docker.service　
</code></pre>
<p>修改ExecStart为：</p>
<pre class=" language-bash"><code class="language-bash">ExecStart<span class="token operator">=</span>/usr/bin/dockerd --containerd<span class="token operator">=</span>/run/containerd/containerd.sock
</code></pre>
<p><img src="https://github.com/ChangzeYan/ChangzeYan.github.io/raw/hexo/source/pic/docker-%E5%AE%89%E8%A3%85docker-%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE.png" alt="配置远程访问"></p>
<p>修改daemon.json</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">vi</span> /etc/docker/daemon.json
</code></pre>
<p>添加键值对,2375为默认端口,也可以指定为任意端口</p>
<pre class=" language-bash"><code class="language-bash"> <span class="token string">"hosts"</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0:2375"</span>,<span class="token string">"unix:///var/run/docker.sock"</span><span class="token punctuation">]</span>
</code></pre>
<p>重启docker</p>
<pre class=" language-bash"><code class="language-bash">systemctl daemon-reload
systemctl restart docker
</code></pre>
<p><strong>开启远程访问后可以在远程主机操作docker</strong><br>要求：操作和被操作的主机都要安装docker</p>
<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 查看镜像</span>
docker -H IP:2375 images
<span class="token comment" spellcheck="true"># 查看运行中的容器</span>
docker -H IP:2375 <span class="token function">ps</span>
</code></pre>
<h2 id="升级docker"><a href="#升级docker" class="headerlink" title="升级docker"></a>升级docker</h2><p>卸载docker</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> yum remove <span class="token variable"><span class="token variable">$(</span>rpm -qa <span class="token operator">|</span> <span class="token function">grep</span> docker<span class="token variable">)</span></span>
</code></pre>
<p>下载最新版本docker</p>
<pre class=" language-bash"><code class="language-bash">curl -fsSL https://get.docker.com/ <span class="token operator">|</span> sh
</code></pre>
<p>重启docker</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart docker <span class="token comment" spellcheck="true"># centos 7</span>
</code></pre>
<p>再次查看docker版本</p>
<pre class=" language-bash"><code class="language-bash">$ docker -v
Docker version 18.09.3, build 774a1f4
</code></pre>
<h1 id="windows-安装docker"><a href="#windows-安装docker" class="headerlink" title="windows 安装docker"></a>windows 安装docker</h1><h2 id="专业版开启Hyper-V功能"><a href="#专业版开启Hyper-V功能" class="headerlink" title="专业版开启Hyper-V功能"></a>专业版开启Hyper-V功能</h2><p>windows专业版要在打开或关闭windows功能那里开启Hyper-V功能。</p>
<h2 id="下载docker："><a href="#下载docker：" class="headerlink" title="下载docker："></a>下载docker：</h2><p><a target="_blank" rel="noopener" href="https://www.docker.com/get-started">官网</a><br>安装后，配置环境变量，将:</p>
<pre class=" language-bash"><code class="language-bash">C:\\Program Files\\Docker\\Docker\\resources
</code></pre>
<p>添加到path中。</p>
<h2 id="配置国内镜像-1"><a href="#配置国内镜像-1" class="headerlink" title="配置国内镜像"></a>配置国内镜像</h2><p><img src="https://github.com/ChangzeYan/ChangzeYan.github.io/raw/hexo/source/pic/docker-%E5%AE%89%E8%A3%85docker-windows%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F.png" alt="配置国内镜像"></p>
<h2 id="配置远程访问"><a href="#配置远程访问" class="headerlink" title="配置远程访问"></a>配置远程访问</h2><p>参考：<a target="_blank" rel="noopener" href="http://baijiahao.baidu.com/s?id=1652188442217820964&wfr=spider&for=pc">Windows开启Docker远程访问</a></p>
<p>先勾选：<br><img src="https://github.com/ChangzeYan/ChangzeYan.github.io/raw/hexo/source/pic/docker-%E5%AE%89%E8%A3%85docker-windows%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE.png" alt="配置Windows远程访问"><br>开启windows防火墙，在管理员模式下：</p>
<pre class=" language-bash"><code class="language-bash">netsh advfirewall firewall add rule name<span class="token operator">=</span><span class="token string">"docker_daemon"</span> dir<span class="token operator">=</span>in action<span class="token operator">=</span>allow protocol<span class="token operator">=</span>TCP localport<span class="token operator">=</span>2375
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/11/30/git/git-ignore-wen-jian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/30/git/git-ignore-wen-jian/" class="post-title-link" itemprop="url">Git ignore 文件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-30 11:14:45" itemprop="dateCreated datePublished" datetime="2020-11-30T11:14:45+08:00">2020-11-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-02 15:31:49" itemprop="dateModified" datetime="2020-12-02T15:31:49+08:00">2020-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h1><p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wangmo/p/7737109.html">git设置忽略文件和目录</a></p>
<h2 id="忽略正则"><a href="#忽略正则" class="headerlink" title="忽略正则"></a>忽略正则</h2><p>忽略*.o文件和 *.a文件：</p>
<pre class=" language-bash"><code class="language-bash">*.<span class="token punctuation">[</span>oa<span class="token punctuation">]</span>
</code></pre>
<p>忽略*.b 和 *.B文件，my.b除外</p>
<pre class=" language-bash"><code class="language-bash">*.<span class="token punctuation">[</span>bB<span class="token punctuation">]</span>
<span class="token operator">!</span>my.b
</code></pre>
<p>忽略dbg文件和dbg目录</p>
<pre class=" language-bash"><code class="language-bash">dbg
</code></pre>
<p>只忽略dbg目录，不忽略dbg文件</p>
<pre class=" language-bash"><code class="language-bash">dbg/
</code></pre>
<p>.gitignore只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。</p>
<h1 id="删除github中某个文件夹"><a href="#删除github中某个文件夹" class="headerlink" title="删除github中某个文件夹"></a>删除github中某个文件夹</h1><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/wudinaniya/article/details/77508229">删除文件夹</a><br>在github上只能删除文件，删除文件夹的方式如下：</p>
<p>在本地仓库：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">rm</span> -r --cached target         <span class="token comment" spellcheck="true"># 删除target文件夹</span>
<span class="token function">git</span> commit -m <span class="token string">'删除了target文件夹'</span>      <span class="token comment" spellcheck="true"># 提交,添加操作说明</span>
<span class="token function">git</span> push -u origin master        <span class="token comment" spellcheck="true"># 将本次更改更新到github项目上去</span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/11/23/write/markdown/markdown-yu-fa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/23/write/markdown/markdown-yu-fa/" class="post-title-link" itemprop="url">markdown语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-23 11:15:30" itemprop="dateCreated datePublished" datetime="2020-11-23T11:15:30+08:00">2020-11-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-11 12:42:54" itemprop="dateModified" datetime="2020-12-11T12:42:54+08:00">2020-12-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="代码块的语言"><a href="#代码块的语言" class="headerlink" title="代码块的语言"></a>代码块的语言</h1><table>
<thead>
<tr>
<th>Shell</th>
<th>bash,shell</th>
</tr>
</thead>
<tbody><tr>
<td>C#</td>
<td>c-sharp,csharp</td>
</tr>
<tr>
<td>CSS</td>
<td>css</td>
</tr>
<tr>
<td>SASS&amp;SCSS</td>
<td>sass,scss</td>
</tr>
<tr>
<td>Erlang</td>
<td>erl,erlang</td>
</tr>
<tr>
<td>Java</td>
<td>java</td>
</tr>
<tr>
<td>JavaScript</td>
<td>js,jscript,javascript</td>
</tr>
<tr>
<td>PHP</td>
<td>php</td>
</tr>
<tr>
<td>Python</td>
<td>py,python</td>
</tr>
<tr>
<td>Ruby</td>
<td>ruby,rails,rb</td>
</tr>
<tr>
<td>Scala</td>
<td>scala</td>
</tr>
<tr>
<td>SQL</td>
<td>sql</td>
</tr>
<tr>
<td>VisualBasic</td>
<td>vb,vbnet</td>
</tr>
<tr>
<td>XML</td>
<td>xml,xhtml</td>
</tr>
<tr>
<td>Swift</td>
<td>swift</td>
</tr>
<tr>
<td>GO</td>
<td>go,golang</td>
</tr>
</tbody></table>
<p>将网页上的表格转换成md、latex等的工具：<a target="_blank" rel="noopener" href="https://tableconvert.com/">TableConvert</a></p>
<h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><h2 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h2><p>使用星号(*)、加号(+)或是减号(-)作为列表标记，这些标记后面要添加一个空格，然后再填写内容。</p>
<h2 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h2><p>使用数字加.加空格，如：</p>
<pre class=" language-md"><code class="language-md">1. 第一项
2. 第二项
3. 第三项
</code></pre>
<ol>
<li>第一项</li>
<li>第二项</li>
<li>第三项</li>
</ol>
<h2 id="列表嵌套"><a href="#列表嵌套" class="headerlink" title="列表嵌套"></a>列表嵌套</h2><p>在子列表中的选项前面添加四个空格即可：</p>
<pre class=" language-md"><code class="language-md">1. 第一项：
    - 第一项嵌套的第一个元素
    - 第一项嵌套的第二个元素
2. 第二项：
    - 第二项嵌套的第一个元素
    - 第二项嵌套的第二个元素
</code></pre>
<ol>
<li>第一项：<ul>
<li>第一项嵌套的第一个元素</li>
<li>第一项嵌套的第二个元素</li>
</ul>
</li>
<li>第二项：<ul>
<li>第二项嵌套的第一个元素</li>
<li>第二项嵌套的第二个元素</li>
</ul>
</li>
</ol>
<h1 id="段落缩进"><a href="#段落缩进" class="headerlink" title="段落缩进"></a>段落缩进</h1><p>第一种：<br>半方大的空白&amp;ensp;或&amp;#8194;</p>
<p>全方大的空白&amp;emsp;或&amp;#8195;</p>
<p>不断行的空白格&amp;nbsp;或&amp;#160;</p>
<p>第二种：<br>markdown语法支持html语法所以可以用这个，本人倾向这种方式，看起来比较干净。</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-indent</span><span class="token punctuation">:</span><span class="token number">2</span>em</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>xxxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2020/11/10/others/activiti/gong-zuo-liu-activiti/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/10/others/activiti/gong-zuo-liu-activiti/" class="post-title-link" itemprop="url">工作流</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-10 14:22:22" itemprop="dateCreated datePublished" datetime="2020-11-10T14:22:22+08:00">2020-11-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-01 21:06:02" itemprop="dateModified" datetime="2021-01-01T21:06:02+08:00">2021-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%B5%81/" itemprop="url" rel="index"><span itemprop="name">工作流</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="工作流-Activiti"><a href="#工作流-Activiti" class="headerlink" title="工作流-Activiti"></a>工作流-Activiti</h1><h2 id="bpmn插件"><a href="#bpmn插件" class="headerlink" title="bpmn插件"></a>bpmn插件</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33333654/article/details/101202362">activiti6.0的绘图编辑器操作、使用、汉化</a></li>
<li>vscode 插件：bpmn editor</li>
</ul>
<h2 id="Springboot-依赖"><a href="#Springboot-依赖" class="headerlink" title="Springboot 依赖"></a>Springboot 依赖</h2><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.activiti<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>activiti-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.1.0.M4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.activiti.dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>activiti-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.1.0.M4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
</code></pre>
<p>配置数据库连接</p>
<pre class=" language-sql"><code class="language-sql">spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>driver<span class="token operator">-</span>class<span class="token operator">-</span>name<span class="token operator">=</span>com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>cj<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>Driver
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>url<span class="token operator">=</span>jdbc:mysql:<span class="token comment" spellcheck="true">//localhost:3306/db_activiti?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC&amp;nullCatalogMeansCurrent=true&amp;allowPublicKeyRetrieval=true</span>
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>username<span class="token operator">=</span>root
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>password<span class="token operator">=</span>xxxx

<span class="token comment" spellcheck="true"># spring boot 整合activiti默认关闭历史表，手动开启历史表如下：</span>
spring<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>history<span class="token operator">-</span>level<span class="token operator">=</span>audit
spring<span class="token punctuation">.</span>activiti<span class="token number">.db</span><span class="token operator">-</span>history<span class="token operator">-</span>used<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment" spellcheck="true"># 可选</span>
<span class="token comment" spellcheck="true">#流程定义bpmn放置路径</span>
spring<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>process<span class="token operator">-</span>definition<span class="token operator">-</span>location<span class="token operator">-</span>prefix<span class="token operator">=</span>classpath:<span class="token operator">/</span>process<span class="token operator">/</span>
<span class="token comment" spellcheck="true">#项目随着spring启动自动部署</span>
spring<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span><span class="token keyword">check</span><span class="token operator">-</span>process<span class="token operator">-</span>definitions<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre>
<h2 id="改正上述activiti版本创建数据表的bug"><a href="#改正上述activiti版本创建数据表的bug" class="headerlink" title="改正上述activiti版本创建数据表的bug"></a>改正上述activiti版本创建数据表的bug</h2><p>启动应用创建表后，运行：</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">SET</span> FOREIGN_KEY_CHECKS<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token comment" spellcheck="true">-- 创建用户表</span>
<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>address<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'联系地址'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>username<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_bin <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'账号'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>password<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_bin <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'密码'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>roles<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_bin <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'角色'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">5</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token comment" spellcheck="true">-- 填充用户表</span>
<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'admincn'</span><span class="token punctuation">,</span> <span class="token string">'beijing'</span><span class="token punctuation">,</span> <span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token string">'$2a$10$gw46pmsOVYO.smHYQ2jH.OoXoe.lGP8OStDkHNs/E74GqZDL5K7ki'</span><span class="token punctuation">,</span> <span class="token string">'ROLE_ACTIVITI_ADMIN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'bajiecn'</span><span class="token punctuation">,</span> <span class="token string">'shanghang'</span><span class="token punctuation">,</span> <span class="token string">'bajie'</span><span class="token punctuation">,</span> <span class="token string">'$2a$10$gw46pmsOVYO.smHYQ2jH.OoXoe.lGP8OStDkHNs/E74GqZDL5K7ki'</span><span class="token punctuation">,</span> <span class="token string">'ROLE_ACTIVITI_USER,GROUP_activitiTeam,g_bajiewukong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'wukongcn'</span><span class="token punctuation">,</span> <span class="token string">'beijing'</span><span class="token punctuation">,</span> <span class="token string">'wukong'</span><span class="token punctuation">,</span> <span class="token string">'$2a$10$gw46pmsOVYO.smHYQ2jH.OoXoe.lGP8OStDkHNs/E74GqZDL5K7ki'</span><span class="token punctuation">,</span> <span class="token string">'ROLE_ACTIVITI_USER,GROUP_activitiTeam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'salaboycn'</span><span class="token punctuation">,</span> <span class="token string">'beijing'</span><span class="token punctuation">,</span> <span class="token string">'salaboy'</span><span class="token punctuation">,</span> <span class="token string">'$2a$10$gw46pmsOVYO.smHYQ2jH.OoXoe.lGP8OStDkHNs/E74GqZDL5K7ki'</span><span class="token punctuation">,</span> <span class="token string">'ROLE_ACTIVITI_USER,GROUP_activitiTeam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token comment" spellcheck="true">-- 修复Activiti7的M4版本缺失字段Bug</span>
<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> ACT_RE_DEPLOYMENT <span class="token keyword">add</span> <span class="token keyword">column</span> PROJECT_RELEASE_VERSION_ <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> ACT_RE_DEPLOYMENT <span class="token keyword">add</span> <span class="token keyword">column</span> VERSION_ <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token comment" spellcheck="true">-- 动态表单数据存储</span>
<span class="token comment" spellcheck="true">-- ----------------------------</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>formdata<span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>formdata<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>PROC_DEF_ID_<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>PROC_INST_ID_<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER SET</span> utf8 <span class="token keyword">COLLATE</span> utf8_general_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>FORM_KEY_<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>Control_ID_<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>Control_VALUE_<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre>
<h2 id="spring-security"><a href="#spring-security" class="headerlink" title="spring security"></a>spring security</h2><p>spring-activiti自动集成了spring boot security，访问应用的用户名是：user，启动时会在控制台生成密码：</p>
<pre class=" language-java"><code class="language-java"><span class="token number">2020</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">29.582</span>  INFO <span class="token number">11832</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>       main<span class="token punctuation">]</span> <span class="token punctuation">.</span>s<span class="token punctuation">.</span>s<span class="token punctuation">.</span>UserDetailsServiceAutoConfiguration <span class="token operator">:</span>

Using generated security password<span class="token operator">:</span> b241ae9b<span class="token operator">-</span>ba60<span class="token operator">-</span>44a9<span class="token operator">-</span>8c0d<span class="token operator">-</span>b5ca45349ed6
</code></pre>
<p>去掉密码：在启动类前加注解：</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token punctuation">(</span>exclude <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>security<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>SecurityAutoConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>actuate<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>security<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ManagementWebSecurityAutoConfiguration<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivitiSpringbootDemoApplication</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>ActivitiSpringbootDemoApplication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="部署和执行"><a href="#部署和执行" class="headerlink" title="部署和执行"></a>部署和执行</h2><blockquote>
<p>部署的bpmn文件一定要是bpmn格式的文件，不能是xml格式的</p>
</blockquote>
<p>部署流程会影响的表：act_re_deployment、act_re_procdef、act_ge_bytearray，如果其中任意一个表中没有写入，则没有部署成功。</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnterpriseRaService</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> RepositoryService repositoryService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> RuntimeService runtimeService<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 部署流程：</span>
    <span class="token keyword">public</span> String <span class="token function">deploy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        Deployment deployment<span class="token operator">=</span>repositoryService<span class="token punctuation">.</span><span class="token function">createDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addClasspathResource</span><span class="token punctuation">(</span><span class="token string">"processes/analyse1.bpmn"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">"请假流程"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">deploy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> deployment<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 执行流程</span>
    <span class="token keyword">public</span> String <span class="token function">startProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        ProcessInstance instance<span class="token operator">=</span>runtimeService<span class="token punctuation">.</span><span class="token function">startProcessInstanceByKey</span><span class="token punctuation">(</span><span class="token string">"process_analyse"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="Service-Task"><a href="#Service-Task" class="headerlink" title="Service Task"></a>Service Task</h2><p>参考：<a target="_blank" rel="noopener" href="https://www.pianshen.com/article/1950323381/">自动服务任务</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dengjiahai/p/6942376.html">服务任务</a><br>service task需要在bpmn文件中配置与之关联的执行类，类名要写全名，即package.类名，async设置为true表示startProcessInstanceByKey方法立即返回，然后异步执行service task；</p>
<pre class=" language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">bpmn2:</span>serviceTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Activity_0z1g1ix<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>crawl<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">activiti:</span>async</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">activiti:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.cloudactiviti.listener.CrawlListener<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</code></pre>
<p>与之关联的类实现JavaDelegate接口：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>cloudactiviti<span class="token punctuation">.</span>listener<span class="token punctuation">;</span>

<span class="token keyword">import</span> org<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>delegate<span class="token punctuation">.</span>DelegateExecution<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>activiti<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>delegate<span class="token punctuation">.</span>JavaDelegate<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span>Component<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CrawlListener</span> <span class="token keyword">implements</span> <span class="token class-name">JavaDelegate</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Component</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CrawlListener</span> <span class="token keyword">implements</span> <span class="token class-name">JavaDelegate</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span>DelegateExecution delegateExecution<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"----------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----模拟事务-------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>然后调用startProcessInstanceByKey执行流程，该方法立即返回，流程异步执行。</p>
<h2 id="查询当前流程实例已完成任务"><a href="#查询当前流程实例已完成任务" class="headerlink" title="查询当前流程实例已完成任务"></a>查询当前流程实例已完成任务</h2><p>其实是查询act_hi_actinst表，按照时间排序，返回最后完成的活动。</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> String <span class="token function">getLastFinishedTask</span><span class="token punctuation">(</span>String instanceId<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>HistoricActivityInstance<span class="token operator">></span> list<span class="token operator">=</span>historyService<span class="token punctuation">.</span><span class="token function">createHistoricActivityInstanceQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">processInstanceId</span><span class="token punctuation">(</span>instanceId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orderByHistoricActivityInstanceStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String lastFinishedTask <span class="token operator">=</span> <span class="token string">"空任务"</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token operator">!=</span>null <span class="token operator">&amp;&amp;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        lastFinishedTask<span class="token operator">=</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActivityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>HistoricActivityInstance taskInstance<span class="token operator">:</span>list<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"已完成："</span><span class="token operator">+</span>taskInstance<span class="token punctuation">.</span><span class="token function">getActivityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"---------------当前任务为空-------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> lastFinishedTask<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="查询正在执行的任务节点id"><a href="#查询正在执行的任务节点id" class="headerlink" title="查询正在执行的任务节点id"></a>查询正在执行的任务节点id</h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> String <span class="token function">getCurrentTask</span><span class="token punctuation">(</span>String instanceId<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>Execution<span class="token operator">></span> executionList<span class="token operator">=</span>runtimeService<span class="token punctuation">.</span><span class="token function">createExecutionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">processInstanceId</span><span class="token punctuation">(</span>instanceId<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String currentTask<span class="token operator">=</span><span class="token string">"已结束"</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>executionList<span class="token operator">==</span>null <span class="token operator">||</span> executionList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> currentTask<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        Execution execution<span class="token operator">=</span>executionList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 获取正在执行的活动id</span>
        currentTask<span class="token operator">=</span>execution<span class="token punctuation">.</span><span class="token function">getActivityId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>currentTask<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Activity_0z1g1ix"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            currentTask<span class="token operator">=</span><span class="token string">"crawl"</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>currentTask<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Activity_1rgp0z1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            currentTask<span class="token operator">=</span><span class="token string">"analyse"</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> currentTask<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="参数的设置和获取"><a href="#参数的设置和获取" class="headerlink" title="参数的设置和获取"></a>参数的设置和获取</h2><p>在启动Activiti流程实例的时候，设置参数字典：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> String <span class="token function">startProcess</span><span class="token punctuation">(</span>String a<span class="token punctuation">,</span>String b<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>

    Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token operator">></span> mapVariables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mapVariables<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"strA"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    mapVariables<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"strB"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    ProcessInstance instance<span class="token operator">=</span>
            runtimeService<span class="token punctuation">.</span><span class="token function">startProcessInstanceByKey</span><span class="token punctuation">(</span><span class="token string">"process_analyse"</span><span class="token punctuation">,</span>mapVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> instance<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>然后就可以在JavaDelegate类中获取参数：</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CrawlListener</span> <span class="token keyword">implements</span> <span class="token class-name">JavaDelegate</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span>DelegateExecution delegateExecution<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        String taskId <span class="token operator">=</span> delegateExecution<span class="token punctuation">.</span><span class="token function">getVariable</span><span class="token punctuation">(</span><span class="token string">"strA"</span><span class="token punctuation">,</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String userId <span class="token operator">=</span> delegateExecution<span class="token punctuation">.</span><span class="token function">getVariable</span><span class="token punctuation">(</span><span class="token string">"strB"</span><span class="token punctuation">,</span>String<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="监听类中注入bean"><a href="#监听类中注入bean" class="headerlink" title="监听类中注入bean"></a>监听类中注入bean</h2><p>实现JavaDelegate的service task监听类中，采用Autowired注入bean为null，需要BeanFactoryPostProcessor获取。</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>aop<span class="token punctuation">.</span>framework<span class="token punctuation">.</span>AopContext<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>BeansException<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>NoSuchBeanDefinitionException<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>config<span class="token punctuation">.</span>BeanFactoryPostProcessor<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ConfigurableListableBeanFactory<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span>Component<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * spring工具类 方便在非spring管理环境中获取bean
 *
 * @author aaa
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">SpringUtils</span> <span class="token keyword">implements</span> <span class="token class-name">BeanFactoryPostProcessor</span>
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/** Spring应用上下文环境 */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> ConfigurableListableBeanFactory beanFactory<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span>ConfigurableListableBeanFactory beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> BeansException
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        SpringUtils<span class="token punctuation">.</span>beanFactory <span class="token operator">=</span> beanFactory<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * 获取对象
     *
     * @param name
     * @return Object 一个以所给名字注册的bean的实例
     * @throws org.springframework.beans.BeansException
     *
     */</span>
    <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">getBean</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token keyword">throws</span> BeansException
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * 获取类型为requiredType的对象
     *
     * @param clz
     * @return
     * @throws org.springframework.beans.BeansException
     *
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">getBean</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span>T<span class="token operator">></span> clz<span class="token punctuation">)</span> <span class="token keyword">throws</span> BeansException
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        T result <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>clz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * 如果BeanFactory包含一个与所给名称匹配的bean定义，则返回true
     *
     * @param name
     * @return boolean
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">containsBean</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span>
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beanFactory<span class="token punctuation">.</span><span class="token function">containsBean</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * 判断以给定名字注册的bean定义是一个singleton还是一个prototype。 如果与给定名字相应的bean定义没有被找到，将会抛出一个异常（NoSuchBeanDefinitionException）
     *
     * @param name
     * @return boolean
     * @throws org.springframework.beans.factory.NoSuchBeanDefinitionException
     *
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isSingleton</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token keyword">throws</span> NoSuchBeanDefinitionException
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beanFactory<span class="token punctuation">.</span><span class="token function">isSingleton</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * @param name
     * @return Class 注册对象的类型
     * @throws org.springframework.beans.factory.NoSuchBeanDefinitionException
     *
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> <span class="token function">getType</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token keyword">throws</span> NoSuchBeanDefinitionException
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beanFactory<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * 如果给定的bean名字在bean定义中有别名，则返回这些别名
     *
     * @param name
     * @return
     * @throws org.springframework.beans.factory.NoSuchBeanDefinitionException
     *
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getAliases</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token keyword">throws</span> NoSuchBeanDefinitionException
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beanFactory<span class="token punctuation">.</span><span class="token function">getAliases</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * 获取aop代理对象
     *
     * @param invoker
     * @return
     */</span>
    <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T <span class="token function">getAopProxy</span><span class="token punctuation">(</span>T invoker<span class="token punctuation">)</span>
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> AopContext<span class="token punctuation">.</span><span class="token function">currentProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
<p>然后用SpringUtils.getBean(注入类.class)获取。</p>
<pre class=" language-java"><code class="language-java">IActivitiGraph activitiGraph<span class="token operator">=</span>SpringUtils<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>IActivitiGraph<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
代替
<span class="token annotation punctuation">@Autowired</span>
IActivitiGraph activitiGraph<span class="token punctuation">;</span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2019/08/26/leetcode/string/kmp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/26/leetcode/string/kmp/" class="post-title-link" itemprop="url">KMP</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-26 16:49:56" itemprop="dateCreated datePublished" datetime="2019-08-26T16:49:56+08:00">2019-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-02 20:26:54" itemprop="dateModified" datetime="2020-12-02T20:26:54+08:00">2020-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><h3 id="Next数组的含义"><a href="#Next数组的含义" class="headerlink" title="Next数组的含义"></a>Next数组的含义</h3><p>记录当前字符<strong>前缀字符串</strong>的最长前缀后缀的长度，记录了模式串在当前位置失配后，模式串指针<em>j</em>指向的下一个位置，即最大相同前缀的下一个字符</p>
<h3 id="Next数组降低时间复杂度的原理"><a href="#Next数组降低时间复杂度的原理" class="headerlink" title="Next数组降低时间复杂度的原理"></a>Next数组降低时间复杂度的原理</h3><p>参考：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/TesuZer/article/details/81031351">Kmp中next数组含义</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/v_july_v/article/details/7041827">从头到尾彻底理解KMP</a></p>
</li>
</ul>
<pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">...</span>ABCDABCX  <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span> 目标串S
   ABCDABCY  <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span> 模式串P
</code></pre>
<p>此时，模式串到达字符Y处失配，<strong>证明模式串中Y之前的字符都已匹配成功</strong>，注意到，前缀字符串<em>ABCDABC</em>的共同最长前后缀为<em>ABC</em>，此时，<strong>目标串的前缀<em>ABC</em>和模式串的前缀<em>ABC</em>对应，目标串的后缀<em>ABC</em>和模式串的后缀<em>ABC</em>对应</strong>，失配后，模式串的指针跳到<em>D</em>处</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">...</span>ABCDABCX       <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span> 目标串S
       ABCDABCY   <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span> 模式串P
</code></pre>
<p>此时, 模式串中<em>D</em> 之前的字符 <em>ABC</em> 仍是匹配的，因为，<strong>此时目标串的后缀 <em>ABC</em> 和 模式串的前缀 <em>ABC</em> 相匹配</strong>。</p>
<p><img src="https://github.com/ChangzeYan/ChangzeYan.github.io/raw/hexo/source/pic/KMP_1.jpg" alt="Next数组作用图示"></p>
<h3 id="Next数组的求解方法"><a href="#Next数组的求解方法" class="headerlink" title="Next数组的求解方法"></a>Next数组的求解方法</h3><h4 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h4><p>根据字符串的首尾相同最长子串</p>
<h4 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h4><p>对模式串的标号方式不同，求出的next数组也不相同。模式串如果从0开始标号，求出的next数组比从1标号的next数组每位小1。</p>
<h5 id="从1开始标号：前两位固定为0、1"><a href="#从1开始标号：前两位固定为0、1" class="headerlink" title="从1开始标号：前两位固定为0、1"></a>从1开始标号：前两位固定为0、1</h5><table>
    <thead>
        <tr>
            <td class="td">标号</td>
            <td class="td">1</td>
            <td class="td">2</td>
            <td class="td">3</td>
            <td class="td">4</td>
            <td class="td">5</td>
            <td class="td">6</td>
            <td class="td">7</td>
            <td class="td">8</td>
            <td class="td">9</td>
            <td class="td">10</td>
            <td class="td">11</td>
            <td class="td">12</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="td">P</td>
            <td class="td">a</td>
            <td class="td">b</td>
            <td class="td">a</td>
            <td class="td">b</td>
            <td class="td">a</td>
            <td class="td">a</td>
            <td class="td">a</td>
            <td class="td">b</td>
            <td class="td">a</td>
            <td class="td">b</td>
            <td class="td">a</td>
            <td class="td">a</td>
        </tr>
        <tr>
            <td class="td">Next</td>
            <td class="td">0</td>
            <td class="td">1</td>
            <td class="td">1</td>
            <td class="td">2</td>
            <td class="td">3</td>
            <td class="td">4</td>
            <td class="td">2</td>
            <td class="td">2</td>
            <td class="td">3</td>
            <td class="td">4</td>
            <td class="td">5</td>
            <td class="td">6</td>
        </tr>
    </tbody>
</table>

<blockquote>
<p>字符串的前后定义：<code>标号小的为前面</code></p>
</blockquote>
<p>求第3位a的next值，看它前一位字符，为b(<strong>后面一直和b比较，b为目标字符</strong>),其next值为1 ——&gt; 找标号为1的字符，为a，不等于b，但是找到第1位了，则将第3位的next置1</p>
<p>求第4位的next值，看第3位的字符，为a(<strong>后面一直和a比较，a为目标字符</strong>),其next值为<em>1</em> –&gt; 找标号为<em>1</em>的字符，为a，等于a，<strong>以第3位上的next值作为标号的字符等于a</strong>，所以，<strong>第3位</strong> next值<strong>加1</strong>，作为目标位(第4位)的next值</p>
<p>求第5位的next值，看第4位的字符，为b(<strong>后面一直和b比较，b为目标字符</strong>)，其next值为<em>2</em>  –&gt; 找标号为<em>2</em>的字符，为b，等于b，<strong>以第4位上的next值作为标号的字符等于b</strong>，所以，<strong>第4位</strong> next值<strong>加1</strong>，作为目标位(第5位)的next值</p>
<p>求第6位的next值，看第5位的字符，为a(<strong>后面一直和a比较，a为目标字符</strong>)，其next值为<em>3</em>  –&gt; 找标号为<em>3</em>的字符，为a，等于a，<strong>以第5位上的next值作为标号的字符等于a</strong>，所以，<strong>第5位</strong> next值<strong>加1</strong>，作为目标位(第5位)的next值</p>
<p>求第7位的next值，看第6位的字符，为a(<strong>后面一直和a比较，a为目标字符</strong>)，其next值为<em>4</em>  –&gt; 找标号为<em>4</em>的字符，为b，不等于a，<strong>继续寻找</strong>–&gt; 标号为<em>4</em>的next值为 <em>2</em> –&gt; 标号为 <em>2</em> 的字符为b，不等于a，<strong>继续寻找</strong>  –&gt; 标号 <em>2</em> 的next值为 <em>1</em> –&gt; 标号为 <em>1</em> 的字符为 a，等于a， <strong>以第2位上的next值作为标号的字符等于a</strong>，所以，<strong>第2位</strong> next值<strong>加1</strong>，作为目标位(第7位)的next值</p>
<p>求第8位的next值，看第7位的字符，为a(<strong>后面一直和a比较，a为目标字符</strong>)，其next为 <em>2</em>，–&gt; 标号为 <em>2</em> 的字符为b，不等于a， <strong>继续寻找</strong>，标号 <em>2</em> 的next值为 <em>1</em> –&gt; 标号为 <em>1</em> 的字符为 a，等于a，<strong>以第2位上的next值作为标号的字符等于a</strong>，所以，<strong>第2位</strong> next值<strong>加1</strong>，作为目标位(第8位)的next值</p>
<p>求第9位的next值，看第8位的字符，为b(<strong>后面一直和b比较，b为目标字符</strong>)，其next值为<em>2</em>  –&gt; 找标号为<em>2</em>的字符，为b，等于b，<strong>以第8位上的next值作为标号的字符等于b</strong>，所以，<strong>第8位</strong> next值<strong>加1</strong>，作为目标位(第9位)的next值</p>
<p>求第9位的next值，看第8位的字符，为b(<strong>后面一直和b比较，b为目标字符</strong>)，其next值为<em>2</em>  –&gt; 找标号为<em>2</em>的字符，为b，等于b，<strong>以第8位上的next值作为标号的字符等于b</strong>，所以，<strong>第8位</strong> next值<strong>加1</strong>，作为目标位(第9位)的next值</p>
<p>求第10位的next值，看第9位的字符,为a(<strong>后面一直和a比较，a为目标字符</strong>),其next值为 <em>3</em> –&gt; 找标号为<em>3</em>的字符，为a，等于a，<strong>以第9位上的next值作为标号的字符等于a</strong>，所以，<strong>第9位</strong> next值<strong>加1</strong>，作为目标位(第10位)的next值</p>
<p>求第11位的next值，看第10位的字符，为b(<strong>后面一直和b比较，b为目标字符</strong>)，其next值为<em>4</em>  –&gt; 找标号为<em>4</em>的字符，为b，等于b，<strong>以第10位上的next值作为标号的字符等于b</strong>，所以，<strong>第10位</strong> next值<strong>加1</strong>，作为目标位(第11位)的next值</p>
<p>求第12位的next值，看第11位的字符,为a(<strong>后面一直和a比较，a为目标字符</strong>),其next值为 <em>5</em> –&gt; 找标号为<em>5</em>的字符，为a，等于a，<strong>以第11位上的next值作为标号的字符等于a</strong>，所以，<strong>第11位</strong> next值<strong>加1</strong>，作为目标位(第12位)的next值</p>
<h5 id="从0开始标号：前两位固定为-1、0"><a href="#从0开始标号：前两位固定为-1、0" class="headerlink" title="从0开始标号：前两位固定为-1、0"></a>从0开始标号：前两位固定为-1、0</h5><p>与上面的步骤相同，只是模式串的下标不同：</p>
<table>
<thead>
<tr>
<th align="center">标号</th>
<th align="center">0</th>
<th align="center">1</th>
<th align="center">2</th>
<th align="center">3</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">7</th>
<th align="center">8</th>
<th align="center">9</th>
<th align="center">10</th>
<th align="center">11</th>
</tr>
</thead>
<tbody><tr>
<td align="center">P</td>
<td align="center">a</td>
<td align="center">b</td>
<td align="center">a</td>
<td align="center">b</td>
<td align="center">a</td>
<td align="center">a</td>
<td align="center">a</td>
<td align="center">b</td>
<td align="center">a</td>
<td align="center">b</td>
<td align="center">a</td>
<td align="center">a</td>
</tr>
<tr>
<td align="center">Next</td>
<td align="center">-1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">4</td>
<td align="center">5</td>
</tr>
</tbody></table>
<h3 id="Next数组求解"><a href="#Next数组求解" class="headerlink" title="Next数组求解"></a>Next数组求解</h3><p>根据方法2求next数组的代码如下：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_next</span><span class="token punctuation">(</span>str_p<span class="token punctuation">)</span><span class="token punctuation">:</span>
    next_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token comment" spellcheck="true"># j为模式串下标，k为next值</span>
    j<span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token comment" spellcheck="true"># next_list 初始化时已经添加了一个-1，所以 判断条件小于 len(str_p)-1</span>
    <span class="token keyword">while</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>str_p<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># k==-1 是判断找没找到第一个字符，j一直是当前字符的前一个字符下标</span>
        <span class="token comment" spellcheck="true"># str_p[j] == str_p[k] 判断 以某个字符的next值为标号的对应的字符与当前位前一位字符是否相同</span>
        <span class="token keyword">if</span> k <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">or</span> str_p<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> str_p<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token comment" spellcheck="true"># 如果相同，该位next+1作为目标位的next值</span>
            k <span class="token operator">+=</span> <span class="token number">1</span>
            j <span class="token operator">+=</span> <span class="token number">1</span>
            next_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            k <span class="token operator">=</span> next_list<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
    <span class="token comment" spellcheck="true"># print(next_list)</span>
    <span class="token keyword">return</span> next_list
</code></pre>
<h3 id="KMP-1"><a href="#KMP-1" class="headerlink" title="KMP"></a>KMP</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">kmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>
    next_list <span class="token operator">=</span> get_next<span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    i<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">or</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
            j <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment" spellcheck="true"># 如果失配，目标串指针i不动，模式串指针j跳到失配位的next值处</span>
        <span class="token comment" spellcheck="true"># 使得失配位置前缀字符串的后缀对应于模式串的前缀</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            j <span class="token operator">=</span> next_list<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token keyword">if</span> j <span class="token operator">==</span> len<span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> i <span class="token operator">-</span> j
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre>
<h3 id="Kmp算法的时间复杂度"><a href="#Kmp算法的时间复杂度" class="headerlink" title="Kmp算法的时间复杂度"></a>Kmp算法的时间复杂度</h3><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/niukai1768/article/details/79579709">KMP时间复杂度分析</a></p>
<p>O(m+n)</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/iamyvette/article/details/77433991">https://blog.csdn.net/iamyvette/article/details/77433991</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_38332967/article/details/81944353">https://blog.csdn.net/weixin_38332967/article/details/81944353</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/v_july_v/article/details/7041827">https://blog.csdn.net/v_july_v/article/details/7041827</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2019/07/19/leetcode/simple-without-algorithm/liang-shu-zhi-he/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/19/leetcode/simple-without-algorithm/liang-shu-zhi-he/" class="post-title-link" itemprop="url">两数之和</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-07-19 15:01:42" itemprop="dateCreated datePublished" datetime="2019-07-19T15:01:42+08:00">2019-07-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-02 20:26:08" itemprop="dateModified" datetime="2020-12-02T20:26:08+08:00">2020-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="两数之和"><a href="#两数之和" class="headerlink" title="两数之和"></a>两数之和</h2><p>题目地址：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/two-sum/">两数之和</a></p>
<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。</p>
<p>你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">示例</span><span class="token punctuation">:</span>

给定 nums = <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target = 9

因为 nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> + nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> = 2 + 7 = 9
所以返回 <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>本题不适合使用双指针法，排序后会将原来序号打乱。<br>用一个字典保存数值和其序号之间的对应关系，字典的健是数组的数值，字典的值是该数值的序号。<br>遍历数组，看<code>target-nums[i]</code>在不在字典中，<strong>同时保证当前序号和<code>target-nums[i]</code>在字典中对应的值不同，（防止重复使用该数）</strong></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">twoSum</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
    index_value_dic <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;&amp;#125;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        need <span class="token operator">=</span> target <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token comment" spellcheck="true"># i!=index_value_dic[need] 为了防止[3,3]的情况</span>
        <span class="token keyword">if</span> need <span class="token keyword">in</span> index_value_dic <span class="token operator">and</span> i <span class="token operator">!=</span> index_value_dic<span class="token punctuation">[</span>need<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> index_value_dic<span class="token punctuation">[</span>need<span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
          <span class="token comment" spellcheck="true"># 将元素值和其index写入，元素当作健，index为值，可能有重复的元素值例如 nums=[3,3],后一个元素会覆盖前面的键值对</span>
            index_value_dic<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2019/06/23/leetcode/string/zui-chang-gong-gong-qian-zhui/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/06/23/leetcode/string/zui-chang-gong-gong-qian-zhui/" class="post-title-link" itemprop="url">最长公共前缀</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-23 13:59:58" itemprop="dateCreated datePublished" datetime="2019-06-23T13:59:58+08:00">2019-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-02 20:26:45" itemprop="dateModified" datetime="2020-12-02T20:26:45+08:00">2020-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="最长公共前缀"><a href="#最长公共前缀" class="headerlink" title="最长公共前缀"></a>最长公共前缀</h2><p>题目地址：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/longest-common-prefix/submissions/">最长公关前缀</a></p>
<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>编写一个函数来查找字符串数组中的最长公共前缀。</p>
<p>如果不存在公共前缀，返回空字符串 “”。</p>
<pre class=" language-yaml"><code class="language-yaml">示例 1<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"flower"</span><span class="token punctuation">,</span><span class="token string">"flow"</span><span class="token punctuation">,</span><span class="token string">"flight"</span><span class="token punctuation">]</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">"fl"</span>

示例 2<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"dog"</span><span class="token punctuation">,</span><span class="token string">"racecar"</span><span class="token punctuation">,</span><span class="token string">"car"</span><span class="token punctuation">]</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">""</span>
<span class="token key atrule">解释</span><span class="token punctuation">:</span> 输入不存在公共前缀。

<span class="token key atrule">说明</span><span class="token punctuation">:</span>
所有输入只包含小写字母 a<span class="token punctuation">-</span>z 。
</code></pre>
<blockquote>
<p>python中字符串有大小，例如：a&lt;b&lt;c; flight &lt; flow &lt; flower</p>
</blockquote>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul>
<li>$O(n^2)$: 找出最短的字符串，然后看所有字符串相同位置上的字符是否一样</li>
<li>找出最小和最大字符串，最小和最大字符串的最长公共前缀即整个<code>list</code>的最长公共前缀</li>
</ul>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="n方复杂度"><a href="#n方复杂度" class="headerlink" title="n方复杂度"></a>n方复杂度</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">longestCommonPrefix</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> strs<span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 按照字符串长度排序</span>
        strs<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> i<span class="token punctuation">:</span> len<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
        first_str <span class="token operator">=</span> strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        i <span class="token operator">=</span> <span class="token number">0</span>
        flag <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">while</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>first_str<span class="token punctuation">)</span> <span class="token operator">and</span> flag<span class="token punctuation">:</span>
            s <span class="token operator">=</span> first_str<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token keyword">for</span> st <span class="token keyword">in</span> strs<span class="token punctuation">:</span>
                <span class="token keyword">if</span> st<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">:</span>
                    flag <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> flag<span class="token punctuation">:</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>first_str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> first_str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">""</span>
</code></pre>
<h4 id="n复杂度"><a href="#n复杂度" class="headerlink" title="n复杂度"></a>n复杂度</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">longestCommonPrefix2</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token operator">not</span> strs<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">""</span>
    <span class="token comment" spellcheck="true"># 按字母表顺序：flight &lt; flow &lt;flower</span>
    min_str <span class="token operator">=</span> min<span class="token punctuation">(</span>strs<span class="token punctuation">)</span>
    max_str <span class="token operator">=</span> max<span class="token punctuation">(</span>strs<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 只需要找最小和最大字符串的最长公共前缀</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span>min_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> x <span class="token operator">!=</span> max_str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> min_str<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span>
    <span class="token keyword">return</span> min_str
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2019/06/22/leetcode/simple-without-algorithm/luo-ma-shu-zi-zhuan-zheng-shu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/06/22/leetcode/simple-without-algorithm/luo-ma-shu-zi-zhuan-zheng-shu/" class="post-title-link" itemprop="url">罗马数字转整数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-22 17:11:34" itemprop="dateCreated datePublished" datetime="2019-06-22T17:11:34+08:00">2019-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-02 20:26:06" itemprop="dateModified" datetime="2020-12-02T20:26:06+08:00">2020-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="罗马数字转整数"><a href="#罗马数字转整数" class="headerlink" title="罗马数字转整数"></a>罗马数字转整数</h2><p>题目地址：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/roman-to-integer/comments/">罗马数字转整数</a></p>
<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>罗马数字包含以下七种字符: I， V， X， L，C，D 和 M。</p>
<pre class=" language-bash"><code class="language-bash">字符          数值
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
</code></pre>
<p>例如， 罗马数字 2 写做 II ，即为两个并列的 1。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。</p>
<p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：</p>
<ul>
<li>I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。</li>
<li>X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。</li>
<li>C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。</li>
</ul>
<p>给定一个罗马数字，将其转换成整数。输入确保在 1 到 3999 的范围内。</p>
<pre class=" language-yaml"><code class="language-yaml">示例 1<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token string">"III"</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token number">3</span>

示例 2<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token string">"IV"</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token number">4</span>

示例 3<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token string">"IX"</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token number">9</span>

示例 4<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token string">"LVIII"</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token number">58</span>
<span class="token key atrule">解释</span><span class="token punctuation">:</span> L = 50<span class="token punctuation">,</span> V= 5<span class="token punctuation">,</span> III = 3.

示例 5<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token string">"MCMXCIV"</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token number">1994</span>
<span class="token key atrule">解释</span><span class="token punctuation">:</span> M = 1000<span class="token punctuation">,</span> CM = 900<span class="token punctuation">,</span> XC = 90<span class="token punctuation">,</span> IV = 4.
</code></pre>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ol>
<li>暴力条件判断：判断当前位的时候同时判断下一位，共有7种情况，分别以“I， V， X， L，C，D 和 M”开头<pre class=" language-yaml"><code class="language-yaml">M<span class="token punctuation">-</span><span class="token punctuation">></span> M
C<span class="token punctuation">-</span><span class="token punctuation">></span> CM、CD、C
D<span class="token punctuation">-</span><span class="token punctuation">></span> D
X<span class="token punctuation">-</span><span class="token punctuation">></span> XC、XL、X
L<span class="token punctuation">-</span><span class="token punctuation">></span> L
I<span class="token punctuation">-</span><span class="token punctuation">></span> IX、IV、I
V<span class="token punctuation">-</span><span class="token punctuation">></span> V
</code></pre>
</li>
<li>观察罗马数字的结构特点：<pre class=" language-yaml"><code class="language-yaml">I &lt; V &lt; X &lt; L &lt; C &lt; D &lt; M
特殊情况：
CM = M<span class="token punctuation">-</span>C = <span class="token punctuation">-</span>C+M = 900
CD = D<span class="token punctuation">-</span>C = <span class="token punctuation">-</span>C+D = 400
<span class="token punctuation">...</span><span class="token punctuation">...</span>
</code></pre>
<blockquote>
<p>判断当前字符是否“小于”后一个字符，如果小于，则减去该字符对应的数值；如果大于则加上该字符对应的数值</p>
</blockquote>
</li>
</ol>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">romanToInt</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token number">0</span>
    i <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment" spellcheck="true"># 因为要修改 i 的数值，所以不能用rang()</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'M'</span><span class="token punctuation">:</span>
            res <span class="token operator">+=</span> <span class="token number">1000</span>
        <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'C'</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'M'</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">900</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'D'</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">400</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">100</span>
        <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'D'</span><span class="token punctuation">:</span>
            res <span class="token operator">+=</span> <span class="token number">500</span>
        <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'X'</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'C'</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">90</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'L'</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">40</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">10</span>
        <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'L'</span><span class="token punctuation">:</span>
            res <span class="token operator">+=</span> <span class="token number">50</span>
        <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'I'</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'X'</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">9</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">and</span> s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'V'</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">4</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'V'</span><span class="token punctuation">:</span>
            res <span class="token operator">+=</span> <span class="token number">5</span>
        i <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
</code></pre>
<h4 id="根据结构"><a href="#根据结构" class="headerlink" title="根据结构"></a>根据结构</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">romanToInt2</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> str<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token number">0</span>
    str_num_dic <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>
        <span class="token string">'I'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">'V'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string">'X'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string">'L'</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">'C'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string">'D'</span><span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token string">'M'</span><span class="token punctuation">:</span> <span class="token number">1000</span>
    <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 如果小于下一个字符就减去，如果大于就加上</span>
        res <span class="token operator">=</span> res <span class="token operator">-</span> str_num_dic<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> str_num_dic<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> str_num_dic<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">else</span> res <span class="token operator">+</span> str_num_dic<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> res<span class="token operator">+</span>str_num_dic<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://changzeyan.github.io/2019/06/21/leetcode/simple-without-algorithm/zheng-shu-zhuan-luo-ma-shu-zi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ChangzeYan">
      <meta itemprop="description" content="天空中没有留下翅膀的痕迹，但我已飞过">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCZ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/06/21/leetcode/simple-without-algorithm/zheng-shu-zhuan-luo-ma-shu-zi/" class="post-title-link" itemprop="url">整数转罗马数字</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-21 15:51:02" itemprop="dateCreated datePublished" datetime="2019-06-21T15:51:02+08:00">2019-06-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-02 20:26:00" itemprop="dateModified" datetime="2020-12-02T20:26:00+08:00">2020-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="整数转罗马数字"><a href="#整数转罗马数字" class="headerlink" title="整数转罗马数字"></a>整数转罗马数字</h2><p>题目地址：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/integer-to-roman/">整数转罗马数字</a></p>
<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>罗马数字包含以下七种字符： I， V， X， L，C，D 和 M。</p>
<pre class=" language-yaml"><code class="language-yaml">字符          数值
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
</code></pre>
<p>例如， 罗马数字 2 写做 II ，即为两个并列的 1。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。</p>
<p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：</p>
<ul>
<li>I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。</li>
<li>X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。</li>
<li>C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。</li>
</ul>
<p>给定一个整数，将其转为罗马数字。输入确保在 1 到 3999 的范围内。</p>
<pre class=" language-yaml"><code class="language-yaml">示例 1<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">"III"</span>

示例 2<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token number">4</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">"IV"</span>

示例 3<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token number">9</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">"IX"</span>

示例 4<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token number">58</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">"LVIII"</span>
<span class="token key atrule">解释</span><span class="token punctuation">:</span> L = 50<span class="token punctuation">,</span> V = 5<span class="token punctuation">,</span> III = 3.

示例 5<span class="token punctuation">:</span>

<span class="token key atrule">输入</span><span class="token punctuation">:</span> <span class="token number">1994</span>
<span class="token key atrule">输出</span><span class="token punctuation">:</span> <span class="token string">"MCMXCIV"</span>
<span class="token key atrule">解释</span><span class="token punctuation">:</span> M = 1000<span class="token punctuation">,</span> CM = 900<span class="token punctuation">,</span> XC = 90<span class="token punctuation">,</span> IV = 4.
</code></pre>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul>
<li>暴力分类讨论：遍历数字的每一位，判断该位是个位、十位、百位还是千位，然后执行相应的转换操作；</li>
<li>采用<code>数字-字符</code>结构的字典存储关键数字（进位有关）与对应字符的映射关系，然后用给定数字对这些关键数字依次取模，取模结果乘以该关键数字对应的字符</li>
</ul>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="暴力分类讨论"><a href="#暴力分类讨论" class="headerlink" title="暴力分类讨论"></a>暴力分类讨论</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">intToRoman</span><span class="token punctuation">(</span>num<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> str<span class="token punctuation">:</span>
    string_1 <span class="token operator">=</span> <span class="token string">''</span>
    string_2 <span class="token operator">=</span> <span class="token string">''</span>
    string_3 <span class="token operator">=</span> <span class="token string">''</span>
    string_4 <span class="token operator">=</span> <span class="token string">''</span>
    index <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">while</span> num<span class="token punctuation">:</span>
        x <span class="token operator">=</span> num <span class="token operator">%</span> <span class="token number">10</span>
        num <span class="token operator">//=</span> <span class="token number">10</span>
        <span class="token comment" spellcheck="true"># 个位</span>
        <span class="token keyword">if</span> index <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                string_1 <span class="token operator">+=</span> <span class="token string">''</span>
            <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
                string_1 <span class="token operator">+=</span> <span class="token string">'IV'</span>
            <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>
                string_1 <span class="token operator">+=</span> <span class="token string">'IX'</span>
            <span class="token keyword">elif</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">:</span>
                <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                    string_1 <span class="token operator">+=</span> <span class="token string">'I'</span>
                    x <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> <span class="token number">5</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token punctuation">:</span>
                x <span class="token operator">-=</span> <span class="token number">5</span>
                string_1 <span class="token operator">+=</span> <span class="token string">'V'</span>
                <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                    string_1 <span class="token operator">+=</span> <span class="token string">'I'</span>
                    x <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token comment" spellcheck="true"># 十位</span>
        <span class="token keyword">elif</span> index <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                string_2 <span class="token operator">+=</span> <span class="token string">''</span>
            <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
                string_2 <span class="token operator">+=</span> <span class="token string">'XL'</span>
            <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>
                string_2 <span class="token operator">+=</span> <span class="token string">'XC'</span>
            <span class="token keyword">elif</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">:</span>
                <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                    string_2 <span class="token operator">+=</span> <span class="token string">'X'</span>
                    x <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> <span class="token number">5</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token punctuation">:</span>
                x <span class="token operator">-=</span> <span class="token number">5</span>
                string_2 <span class="token operator">+=</span> <span class="token string">'L'</span>
                <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                    string_2 <span class="token operator">+=</span> <span class="token string">'X'</span>
                    x <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token comment" spellcheck="true"># 百位</span>
        <span class="token keyword">elif</span> index <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                string_3 <span class="token operator">+=</span> <span class="token string">''</span>
            <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
                string_3 <span class="token operator">+=</span> <span class="token string">'CD'</span>
            <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>
                string_3 <span class="token operator">+=</span> <span class="token string">'CM'</span>
            <span class="token keyword">elif</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">:</span>
                <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                    string_3 <span class="token operator">+=</span> <span class="token string">'C'</span>
                    x <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> <span class="token number">5</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token punctuation">:</span>
                x <span class="token operator">-=</span> <span class="token number">5</span>
                string_3 <span class="token operator">+=</span> <span class="token string">'D'</span>
                <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                    string_3 <span class="token operator">+=</span> <span class="token string">'C'</span>
                    x <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token comment" spellcheck="true"># 千位，只有1，2，3三种情况</span>
        <span class="token keyword">if</span> index <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
            <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                string_4 <span class="token operator">+=</span> <span class="token string">'M'</span>
                x <span class="token operator">-=</span> <span class="token number">1</span>
        index <span class="token operator">+=</span> <span class="token number">1</span>
    string <span class="token operator">=</span> string_4 <span class="token operator">+</span> string_3 <span class="token operator">+</span> string_2 <span class="token operator">+</span> string_1
    <span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">return</span> string
</code></pre>
<h4 id="优化暴力分类讨论"><a href="#优化暴力分类讨论" class="headerlink" title="优化暴力分类讨论"></a>优化暴力分类讨论</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">intToRoman2</span><span class="token punctuation">(</span>num<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> str<span class="token punctuation">:</span>
    string <span class="token operator">=</span> <span class="token string">''</span>
    index <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">while</span> num<span class="token punctuation">:</span>
        x <span class="token operator">=</span> num <span class="token operator">%</span> <span class="token number">10</span>
        <span class="token keyword">if</span> index <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            string <span class="token operator">=</span> str_of_num<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'V'</span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span> <span class="token operator">+</span> string
        <span class="token keyword">elif</span> index <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            string <span class="token operator">=</span> str_of_num<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">,</span> <span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span> <span class="token operator">+</span> string
        <span class="token keyword">elif</span> index <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            string <span class="token operator">=</span> str_of_num<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'M'</span><span class="token punctuation">)</span> <span class="token operator">+</span> string
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            string_4 <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token keyword">while</span> x<span class="token punctuation">:</span>
                string_4 <span class="token operator">+=</span> <span class="token string">'M'</span>
                x <span class="token operator">-=</span> <span class="token number">1</span>
            string <span class="token operator">=</span> string_4 <span class="token operator">+</span> string
        num <span class="token operator">//=</span> <span class="token number">10</span>
        index <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">return</span> string

<span class="token comment" spellcheck="true"># 复用分类讨论代码</span>
<span class="token keyword">def</span> <span class="token function">str_of_num</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span>
    string <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        string <span class="token operator">+=</span> <span class="token string">''</span>
    <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
        string <span class="token operator">+=</span> a <span class="token operator">+</span> b
    <span class="token keyword">elif</span> x <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>
        string <span class="token operator">+=</span> a <span class="token operator">+</span> c
    <span class="token keyword">elif</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> x<span class="token punctuation">:</span>
            string <span class="token operator">+=</span> a
            x <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">elif</span> <span class="token number">5</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token punctuation">:</span>
        x <span class="token operator">-=</span> <span class="token number">5</span>
        string <span class="token operator">+=</span> b
        <span class="token keyword">while</span> x<span class="token punctuation">:</span>
            string <span class="token operator">+=</span> a
            x <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> string
</code></pre>
<h4 id="设置映射表，从高位到低位转换"><a href="#设置映射表，从高位到低位转换" class="headerlink" title="设置映射表，从高位到低位转换"></a>设置映射表，从高位到低位转换</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">intToRoman3</span><span class="token punctuation">(</span>num<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> str<span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token comment" spellcheck="true"># 数值和字符映射关系</span>
    num_str_dic <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>
        <span class="token number">1000</span><span class="token punctuation">:</span> <span class="token string">'M'</span><span class="token punctuation">,</span>
        <span class="token number">900</span><span class="token punctuation">:</span> <span class="token string">'CM'</span><span class="token punctuation">,</span>
        <span class="token number">500</span><span class="token punctuation">:</span> <span class="token string">'D'</span><span class="token punctuation">,</span>
        <span class="token number">400</span><span class="token punctuation">:</span> <span class="token string">'CD'</span><span class="token punctuation">,</span>
        <span class="token number">100</span><span class="token punctuation">:</span> <span class="token string">'C'</span><span class="token punctuation">,</span>
        <span class="token number">90</span><span class="token punctuation">:</span> <span class="token string">'XC'</span><span class="token punctuation">,</span>
        <span class="token number">50</span><span class="token punctuation">:</span> <span class="token string">'L'</span><span class="token punctuation">,</span>
        <span class="token number">40</span><span class="token punctuation">:</span> <span class="token string">'XL'</span><span class="token punctuation">,</span>
        <span class="token number">10</span><span class="token punctuation">:</span> <span class="token string">'X'</span><span class="token punctuation">,</span>
        <span class="token number">9</span><span class="token punctuation">:</span> <span class="token string">'IX'</span><span class="token punctuation">,</span>
        <span class="token number">5</span><span class="token punctuation">:</span> <span class="token string">'V'</span><span class="token punctuation">,</span>
        <span class="token number">4</span><span class="token punctuation">:</span> <span class="token string">'IV'</span><span class="token punctuation">,</span>
        <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'I'</span>
    <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>
    <span class="token comment" spellcheck="true"># x 是字典中的健，这里是数字</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> num_str_dic<span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 用num整除 num_str_dic 中的数值，得到的数乘以对应的符号</span>
        <span class="token comment" spellcheck="true">#（如：2*I=II，如果是0*I，就是""）</span>
        res <span class="token operator">+=</span> num <span class="token operator">//</span> x <span class="token operator">*</span> num_str_dic<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
        num <span class="token operator">%=</span> x
    <span class="token keyword">return</span> res
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ChangzeYan</p>
  <div class="site-description" itemprop="description">天空中没有留下翅膀的痕迹，但我已飞过</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">71</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ChangzeYan</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
